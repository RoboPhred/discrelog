(self.webpackChunkdiscrelog=self.webpackChunkdiscrelog||[]).push([[47],{1536:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={tessel:"tessel--2Q3Xd","tessel-content":"tessel-content--3-kEA","tessel-drop-capture":"tessel-drop-capture--3TbuI","tessel-drop-capture--dragging":"tessel-drop-capture--dragging--Ihwyz","tessel-drop-marker":"tessel-drop-marker--1cqr2","drop-left":"drop-left--wqP1V","drop-right":"drop-right--2MyGz","drop-top":"drop-top--1S0co","drop-bottom":"drop-bottom--2f330","tessel-split":"tessel-split--2gDs5","tessel-split--row":"tessel-split--row--2fC6o","tessel-split--column":"tessel-split--column--1Hl4C","tessel-window":"tessel-window--1qDgp","tessel-window-titlebar":"tessel-window-titlebar--uHBdn","tessel-window-title":"tessel-window-title--2v0hT","tessel-window-controls":"tessel-window-controls--3i3ou","tessel-window-controls-close":"tessel-window-controls-close--2O8Zs","tessel-window-content":"tessel-window-content--sOnG-"}},9220:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={"node-interaction-toggle":"node-interaction-toggle--2Uy2Q","node-interaction-momentary":"node-interaction-momentary--3yAEQ"}},8623:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={"flex-row":"flex-row--sHjOY","flex-column":"flex-column--2LT64","flex-reverse":"flex-reverse--2Vn7L","flexitem-shrink":"flexitem-shrink--2U9EV","flexitem-fix":"flexitem-fix--1ARxk"}},2334:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={"text-unselectable":"text-unselectable--2tvXe"}},2367:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={"fill-parent":"fill-parent--3pw6U"}},7252:(e,t,n)=>{"use strict";n.d(t,{q6:()=>i,_Y:()=>o,U_:()=>s});var r=n(4586);const i="@circuit/add",o=({circuitName:e,circuitId:t,edit:n}={})=>({type:i,payload:{circuitId:null!=t?t:(0,r.Z)(),circuitName:e,edit:n}});function s(e){return e.type===i}},5984:(e,t,n)=>{"use strict";n.d(t,{JP:()=>r,Zj:()=>i,Q$:()=>o});const r="@circuit/delete",i=e=>({type:r,payload:{circuitId:e}});function o(e){return e.type===r}},1314:(e,t,n)=>{"use strict";n.d(t,{QM:()=>r,U3:()=>i,lp:()=>o});const r="@circuit/rename",i=(e,t)=>({type:r,payload:{circuitId:e,circuitName:t}});function o(e){return e.type===r}},5621:(e,t,n)=>{"use strict";n.d(t,{Fb:()=>r,v:()=>i,Ff:()=>o});const r="@clipboard/paste",i=e=>({type:r,payload:{targetCircuitId:e}});function o(e){return e.type===r}},5222:(e,t,n)=>{"use strict";n.d(t,{pR:()=>r,GA:()=>i,W2:()=>o});const r="@dialog/response/accept",i=e=>({type:r,payload:{result:e}});function o(e){return e.type===r}},8177:(e,t,n)=>{"use strict";n.d(t,{NQ:()=>r,ey:()=>i,Xm:()=>o});const r="@field/drag/continue",i=(e,t)=>({type:r,payload:{dragPos:e,modifierKeys:t}});function o(e){return e.type===r}},4:(e,t,n)=>{"use strict";n.d(t,{cN:()=>r,k4:()=>i,$V:()=>o});const r="@field/drag/end",i=(e,t)=>({type:r,payload:Object.assign(Object.assign({},e),{modifierKeys:t})});function o(e){return e.type===r}},713:(e,t,n)=>{"use strict";n.d(t,{R4:()=>i,Vl:()=>o});const r="@field/drag/start/joint",i=(e,t,n)=>({type:r,payload:Object.assign(Object.assign({},t),{jointId:e,modifierKeys:n})});function o(e){return e.type===r}},1883:(e,t,n)=>{"use strict";n.d(t,{gM:()=>i,xl:()=>o});const r="@field/drag/start/new-joint",i=(e,t,n,i)=>({type:r,payload:Object.assign(Object.assign({},n),{connectionId:e,addAfterJointId:t,modifierKeys:i})});function o(e){return e.type===r}},8198:(e,t,n)=>{"use strict";n.d(t,{hZ:()=>i,KH:()=>o});const r="@field/drag/start/node",i=(e,t,n)=>({type:r,payload:Object.assign(Object.assign({},t),{nodeId:e,modifierKeys:n})});function o(e){return e.type===r}},853:(e,t,n)=>{"use strict";n.d(t,{wZ:()=>i,dx:()=>o});const r="@field/drag/start/select",i=(e,t)=>({type:r,payload:Object.assign(Object.assign({},e),{circuitId:t})});function o(e){return e.type===r}},4206:(e,t,n)=>{"use strict";n.d(t,{V:()=>i,Zr:()=>o});const r="@field/drag/start/wire",i=(e,t)=>({type:r,payload:{dragStart:e,pin:t}});function o(e){return e.type===r}},1387:(e,t,n)=>{"use strict";n.d(t,{Cq:()=>r,xr:()=>i,hG:()=>o});const r="@field/mouse/leave",i=()=>({type:r});function o(e){return e.type===r}},2813:(e,t,n)=>{"use strict";n.d(t,{T7:()=>i,Z_:()=>o});const r="@layout/rearrange",i=e=>({type:r,payload:{layout:e}});function o(e){return e.type===r}},5273:(e,t,n)=>{"use strict";n.d(t,{dd:()=>i,gz:()=>o,g0:()=>s});var r=n(4586);const i="@node/add",o=(e,t,n,o)=>({type:i,payload:Object.assign({nodeId:(0,r.Z)(),nodeType:e,circuitId:t,position:n},o||{})});function s(e){return e.type===i}},1235:(e,t,n)=>{"use strict";n.d(t,{zN:()=>i,ke:()=>o});const r="@node/interact",i=e=>({type:r,payload:{circuitNodeIdPath:e}});function o(e){return e.type===r}},4443:(e,t,n)=>{"use strict";n.d(t,{XT:()=>r,w:()=>i,HH:()=>o});const r="@node/rename",i=(e,t)=>({type:r,payload:{nodeId:e,nodeName:t}});function o(e){return e.type===r}},4505:(e,t,n)=>{"use strict";n.d(t,{WG:()=>r,C9:()=>i});const r="@project/export-link",i=()=>({type:r})},7198:(e,t,n)=>{"use strict";n.d(t,{Yk:()=>r,vP:()=>i});const r="@project/import-link",i=e=>({type:r,payload:{data:e}})},6577:(e,t,n)=>{"use strict";n.d(t,{Wx:()=>r,Cb:()=>i});const r="@project/load",i=()=>({type:r})},38:(e,t,n)=>{"use strict";n.d(t,{Ny:()=>r,o9:()=>i,Tp:()=>o});const r="@project/new",i=()=>({type:r});function o(e){return e.type===r}},3069:(e,t,n)=>{"use strict";n.d(t,{hq:()=>r,UI:()=>i,Ub:()=>s,hR:()=>c});const r="@project/save",i=()=>({type:r}),o="@project/save:success",s=()=>({type:o});function c(e){return e.type===o}},5758:(e,t,n)=>{"use strict";n.d(t,{Nz:()=>r,KX:()=>i,rA:()=>o});const r="@undo/redo",i=()=>({type:r});function o(e){return e.type===r}},7243:(e,t,n)=>{"use strict";n.d(t,{td:()=>i,ov:()=>o});const r="@select/all",i=e=>({type:r,payload:{circuitId:e}});function o(e){return e.type===r}},1578:(e,t,n)=>{"use strict";n.d(t,{MO:()=>i,CH:()=>o});const r="@select/clear",i=()=>({type:r});function o(e){return e.type===r}},4662:(e,t,n)=>{"use strict";n.d(t,{lF:()=>i,xW:()=>o});const r="@select/nodes",i=(e,t="set")=>({type:r,payload:{nodeIds:Array.isArray(e)?e:[e],mode:t}});function o(e){return e.type===r}},2571:(e,t,n)=>{"use strict";n.d(t,{a2:()=>i,p6:()=>o});const r="@select/wire-joints",i=(e,t="set")=>({type:r,payload:{jointIds:Array.isArray(e)?e:[e],mode:t}});function o(e){return e.type===r}},4691:(e,t,n)=>{"use strict";n.d(t,{Rp:()=>i,GT:()=>o});const r="@select/wires",i=(e,t="set")=>({type:r,payload:{connectionIds:Array.isArray(e)?e:[e],mode:t}});function o(e){return e.type===r}},5409:(e,t,n)=>{"use strict";n.d(t,{R9:()=>r,Fs:()=>i,wr:()=>o});const r="@selection/align-to-grid",i=()=>({type:r});function o(e){return e.type===r}},4484:(e,t,n)=>{"use strict";n.d(t,{qn:()=>i,ww:()=>o});const r="@selection/copy",i=()=>({type:r});function o(e){return e.type===r}},2165:(e,t,n)=>{"use strict";n.d(t,{XE:()=>r,NE:()=>i,SB:()=>o});const r="@selection/delete",i=()=>({type:r});function o(e){return e.type===r}},7366:(e,t,n)=>{"use strict";n.d(t,{C2:()=>i,RC:()=>o});const r="@sim/fastforward",i=()=>({type:r});function o(e){return e.type===r}},8261:(e,t,n)=>{"use strict";n.d(t,{l2:()=>r,ri:()=>i,Ie:()=>o});const r="@sim/pause",i=e=>({type:r,payload:{mode:e}});function o(e){return e.type===r}},8910:(e,t,n)=>{"use strict";n.d(t,{pu:()=>r,Fr:()=>i,NL:()=>o});const r="@sim/start",i=()=>({type:r});function o(e){return e.type===r}},737:(e,t,n)=>{"use strict";n.d(t,{Sk:()=>i,qf:()=>o});const r="@sim/stop",i=()=>({type:r});function o(e){return e.type===r}},152:(e,t,n)=>{"use strict";n.d(t,{rZ:()=>r,jf:()=>i,FD:()=>o});const r="@sim/tick",i=e=>({type:r,payload:{tickCount:e}});function o(e){return e.type===r}},3634:(e,t,n)=>{"use strict";n.d(t,{Um:()=>r,Yw:()=>i,Qy:()=>o});const r="@undo/undo",i=()=>({type:r});function o(e){return e.type===r}},3084:(e,t,n)=>{"use strict";n.d(t,{_A:()=>i,k5:()=>o});const r="@view/circuit",i=(e,t=null,n={})=>({type:r,payload:Object.assign({circuitId:e,circuitNodeIdPath:t},n)});function o(e){return e.type===r}},5842:(e,t,n)=>{"use strict";n.d(t,{pi:()=>i,RD:()=>o});const r="@view/node-names",i=e=>({type:r,payload:{mode:e}});function o(e){return e.type===r}},6323:(e,t,n)=>{"use strict";n.d(t,{Vl:()=>i,Gf:()=>o});const r="@view/reset",i=()=>({type:r});function o(e){return e.type===r}},4882:(e,t,n)=>{"use strict";n.d(t,{Sh:()=>r,iM:()=>i,UO:()=>o});const r="@view/zoom",i=e=>({type:r,payload:{delta:e}});function o(e){return e.type===r}},5054:(e,t,n)=>{"use strict";function r(e){return Array.isArray(e)?e:[e]}function i(e,t){return e===t||e.length===t.length&&e.every(((e,n)=>t[n]===e))}function o(e,t){const n=e.slice(0,t);for(let r=t+1;r<e.length;r++)n.push(e[r]);return n}n.d(t,{_2:()=>r,_g:()=>i,O_:()=>o}),Object.freeze([])},9181:(e,t,n)=>{"use strict";n.d(t,{d5:()=>o,NO:()=>s,DC:()=>l,Es:()=>d});var r=n(7294);const i=r.createContext([]);function o(){return r.useContext(i)}const s=({pathKey:e,children:t})=>{const n=o(),s=r.useMemo((()=>[...n,e]),[n,e]);return r.createElement(i.Provider,{value:s},t)};function c(){}const a=r.createContext({moveWindow:c,closeWindow:c});function l(){return r.useContext(a)}const d=({moveWindow:e,closeWindow:t,children:n})=>{const i=r.useMemo((()=>({moveWindow:e,closeWindow:t})),[e,t]);return r.createElement(a.Provider,{value:i},n)}},2385:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(5054),i=n(4100),o=n(6600),s=n(7294),c=n(9240),a=n(8402),l=n(1536),d=n(9181);const u=s.forwardRef((({className:e,children:t},n)=>{const u=(0,d.d5)(),{moveWindow:p}=(0,d.DC)(),y=s.useRef(null),{top:m,left:f,right:g,bottom:h}=(0,i.E)(y),[I,v]=s.useState(null),b=s.useCallback(((e,t)=>{if(!t.isOver({shallow:!0}))return void v(null);const n=t.getClientOffset();if(null==e||null==n||!(0,a.LA)(e))return void v(null);if(n.x<f||n.x>g)return void v(null);if(n.y<m||n.y>h)return void v(null);const r=(n.x-f)/(g-f);if(r<=.3)return void v("left");if(r>=.6)return void v("right");const i=(n.y-m)/(h-m);v(i<=.3?"top":i>=.6?"bottom":null)}),[m,f,g,h]),E=s.useCallback(((e,t)=>{if(!t.isOver({shallow:!0}))return;if(!(0,a.LA)(e))return;const{path:n}=e.payload;(0,r._g)(n,u)||null!=I&&p(n,u,I)}),[u,I,p]),[{draggingSelf:k},O]=(0,c.L)({accept:a.SD,collect:e=>{e.isOver({shallow:!0})||v(null);const t=e.getItem();return t&&(0,a.LA)(t)?{draggingSelf:(0,r._g)(t.payload.path,u)}:{}},hover:b,drop:E},[b,E]);let N=l.Z["tessel-drop-marker"]+" ";if(null!=I&&!k)switch(I){case"bottom":N+=l.Z["drop-bottom"];break;case"top":N+=l.Z["drop-top"];break;case"left":N+=l.Z["drop-left"];break;case"right":N+=l.Z["drop-right"]}return s.createElement("div",{ref:e=>{y.current=e,O(e),"function"==typeof n?n(e):n&&(n.current=e)},className:(0,o.yI)(l.Z["tessel-drop-capture"],k&&l.Z["tessel-drop-capture--dragging"],e)},t,s.createElement("div",{className:N}))}))},8402:(e,t,n)=>{"use strict";n.d(t,{SD:()=>r,tw:()=>i,LA:()=>o});const r="@tessel/window",i=e=>({type:r,payload:{path:e}});function o(e){return e.type===r}},6192:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>k,wq:()=>l.wq,GH:()=>l.GH});var r=n(7294),i=n(7361),o=n.n(i),s=n(6600),c=n(2367),a=n(8623),l=n(8592),d=n(3493),u=n.n(d);function p(e){const t=r.useRef(e);return r.useEffect((()=>{t.current=e})),t}var y=n(1536);const m=Object.freeze({top:0,left:0,bottom:0,right:0,x:0,y:0,height:0,width:0,toJSON:()=>({})}),f=({direction:e,onChangePercentage:t})=>{const n=r.useRef(null),i=r.useRef(null),o=p(e),c=p(t),a=r.useMemo((()=>u()((e=>{var t,r;if(null==i.current||null==n.current)return;const s=null!==(r=null===(t=n.current.parentElement)||void 0===t?void 0:t.getBoundingClientRect())&&void 0!==r?r:m;let a=0,l=0;"row"===o.current?(l=e.pageX-s.left,a=l/s.width,isNaN(a)?(a=0,l=s.left):a>1&&(a=1,l=s.right)):(l=e.pageY-s.top,a=l/s.height,isNaN(a)?(a=0,l=s.top):a>1&&(a=1,l=s.bottom)),c.current(100*a,l)}),1e3/60,{leading:!0})),[o,c]),l=r.useCallback((e=>{e.persist(),a(e)}),[a]),d=r.useCallback((e=>{!e.defaultPrevented&&n.current&&(i.current||(e.preventDefault(),n.current.setPointerCapture(e.pointerId),i.current=e.pointerId))}),[]),f=r.useCallback((()=>{n.current&&i.current&&(n.current.releasePointerCapture(i.current),i.current=null)}),[]);return r.createElement("div",{ref:n,className:(0,s.yI)("tessel-split",y.Z["tessel-split"],y.Z["row"===e?"tessel-split--row":"tessel-split--column"]),onPointerDown:d,onPointerMove:l,onPointerUp:f})};var g=n(9181);function h(e,t,n){return(0,l.SA)(e)?{firstPercent:t}:(0,l.m)(e)?"number"==typeof e.secondSize?{secondSize:n}:{firstSize:n}:e}const I=({item:e,renderWindow:t,onLayoutChange:n})=>{const{direction:i,first:o,second:d,division:u}=e,p="row"===i?"width":"height",y=r.useCallback(((t,r)=>{const i=(0,l.q_)(e.division);n(Object.assign(Object.assign({},e),{division:h(i,t,r)}))}),[e,n]),m=r.useCallback((t=>{n(Object.assign(Object.assign({},e),{first:t}))}),[e,n]),I=r.useCallback((t=>{n(Object.assign(Object.assign({},e),{second:t}))}),[e,n]),b=(0,l.q_)(u);let E="50%",k="50%",O=!1,N=!1;if((0,l.SA)(b)){const{firstPercent:e}=b;E=e+"%",k=100-e+"%"}else if((0,l.m)(b)){const{firstSize:e,secondSize:t}=b;e?(E=e+"px",O=!0,k="100%"):(E="100%",k=t+"px",N=!0)}return r.createElement("div",{className:(0,s.yI)(c.Z["fill-parent"],a.Z["row"===i?"flex-row":"flex-column"])},r.createElement("div",{className:(0,s.yI)(O?a.Z["flexitem-fix"]:a.Z["flexitem-shrink"]),style:{[p]:E}},r.createElement(g.NO,{pathKey:"first"},r.createElement(v,{value:o,renderWindow:t,onLayoutChange:m}))),r.createElement(f,{direction:i,onChangePercentage:y}),r.createElement("div",{className:(0,s.yI)(N?a.Z["flexitem-fix"]:a.Z["flexitem-shrink"]),style:{[p]:k}},r.createElement(g.NO,{pathKey:"second"},r.createElement(v,{value:d,renderWindow:t,onLayoutChange:I}))))},v=({value:e,renderWindow:t,onLayoutChange:n})=>{const i=(0,l.GH)(e);return(0,l.wq)(i)?t(i):(0,l.c3)(i)?r.createElement(I,{item:i,renderWindow:t,onLayoutChange:n}):null};var b=n(2385),E=n(2473);const k=({className:e,rootItem:t,renderWindow:n,onLayoutChange:i})=>{const c=r.useCallback(((e,n,r)=>{if(0===e.length)return;let c=t;const a=o()(c,e);c&&"string"!=typeof c&&a&&(n.length>0&&!o()(c,n)||(c=(0,s.qP)(c,e,null),c=(0,s.qP)(c,n,(e=>{let t;if("left"===r||"right"===r)t={direction:"row",division:50,first:"left"===r?a:e,second:"right"===r?a:e};else{if("top"!==r&&"bottom"!==r)throw new Error("Unknown tessel position: "+r);t={direction:"column",division:50,first:"top"===r?a:e,second:"bottom"===r?a:e}}return t})),c=(0,E.aI)(c),i(c)))}),[t,i]),a=r.useCallback((e=>{let n=t;n&&("string"!=typeof n?(n=(0,s.qP)(n,e,null),n=(0,E.aI)(n),i(n)):0===e.length&&i(null))}),[i,t]);return r.createElement("div",{className:(0,s.yI)("tessel",y.Z.tessel,e)},r.createElement(g.Es,{moveWindow:c,closeWindow:a},r.createElement(b.Z,null,r.createElement("div",{className:y.Z["tessel-content"]},t&&r.createElement(v,{value:t,renderWindow:n,onLayoutChange:i})))))}},8592:(e,t,n)=>{"use strict";n.d(t,{GH:()=>o,wq:()=>s,c3:()=>c,q_:()=>a,SA:()=>l,m:()=>d});var r=n(8721),i=n.n(r);function o(e){return"string"==typeof e?{windowId:e}:e}function s(e){return i()(e,"windowId")}function c(e){return i()(e,"first")&&i()(e,"second")&&i()(e,"direction")}function a(e){return"number"==typeof e?{firstPercent:e}:e}function l(e){return i()(e,"firstPercent")}function d(e){return i()(e,"firstSize")||i()(e,"secondSize")}},2473:(e,t,n)=>{"use strict";n.d(t,{b0:()=>i,gU:()=>o,aI:()=>s});var r=n(8592);function i(e,t){var n;if(!t(e))return null;const o=(0,r.GH)(e);if((0,r.c3)(o)){const r=i(o.first,t),s=i(o.second,t);return r&&s?e:null!==(n=null!=r?r:s)&&void 0!==n?n:null}return e}function o(e,t){var n;return null!==(n=function e(n){const i=t(n);if(i)return i;const o=(0,r.GH)(n);if((0,r.c3)(o)){const t=e(o.first);if(t)return Object.assign(Object.assign({},o),{first:t});const n=e(o.second);if(n)return Object.assign(Object.assign({},o),{second:n})}return null}(e))&&void 0!==n?n:e}function s(e){return"string"==typeof e?e:(0,r.c3)(e)?null==e.first?s(e.second):null==e.second?s(e.first):Object.assign(Object.assign({},e),{first:s(e.first),second:s(e.second)}):e}},5766:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});const r=4},3667:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(5766);const i={inputPins:[],outputPins:["OUT"],interact:()=>({transitions:[{tickOffset:1,valuesByPin:{OUT:!0}},{tickOffset:1+Math.round(1.5*r.v),valuesByPin:{OUT:!1},transitionMerger:"append"}]})}},2318:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const r={toggleState:!1},i={inputPins:[],outputPins:["OUT"],interact(e=r){const t=!e.toggleState;return{state:Object.assign({},e,{toggleState:t}),transitions:{tickOffset:1,valuesByPin:{OUT:t}}}},evolve:(e=r)=>({state:e,transitions:{tickOffset:1,valuesByPin:{OUT:e.toggleState}}})}},7909:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(5766);const i={inputPins:["A","B"],outputPins:["OUT"],evolve:(e,t)=>({transitions:{tickOffset:r.v,valuesByPin:{OUT:t.A&&t.B}}})}},274:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(5766);const i={inputPins:["IN"],outputPins:["OUT"],evolve:(e,t)=>({transitions:{tickOffset:r.v,valuesByPin:{OUT:t.IN}}})}},8112:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(5766);const i={inputPins:["A","B"],outputPins:["OUT"],evolve:(e,t)=>({transitions:{tickOffset:r.v,valuesByPin:{OUT:!(t.A||t.B)}}})}},6559:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(5766);const i={inputPins:["IN"],outputPins:["OUT"],evolve:(e,t)=>({transitions:{tickOffset:r.v,valuesByPin:{OUT:!t.IN}}})}},2649:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(5766);const i={inputPins:["A","B"],outputPins:["OUT"],evolve:(e,t)=>({transitions:{tickOffset:r.v,valuesByPin:{OUT:t.A||t.B}}})}},8881:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(5766);const i={inputPins:["A","B"],outputPins:["OUT"],evolve:(e,t)=>({transitions:{tickOffset:r.v,valuesByPin:{OUT:(t.A||t.B)&&t.A!=t.B}}})}},6567:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={inputPins:["IN"],outputPins:[],evolve:(e,t)=>({state:{value:t.IN}})}},4257:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={inputPins:["A","B","C","D","E","F","G"],outputPins:[],evolve:(e,t)=>({state:Object.assign({},t)})}},8370:(e,t,n)=>{"use strict";n.d(t,{tQ:()=>i,Ds:()=>o,rG:()=>s,NG:()=>c,R9:()=>a,VE:()=>l,Fv:()=>d,Ih:()=>u,bA:()=>p,Qu:()=>y,gQ:()=>m,ZO:()=>f,sj:()=>g,kg:()=>h,PL:()=>I,nF:()=>v,G0:()=>b,kK:()=>E});var r=n(7516);const i=r.Ry().shape({x:r.Rx().required(),y:r.Rx().required()}),o=Object.freeze({x:0,y:0}),s=Object.freeze({p1:o,p2:o});function c(e){return{p1:{x:e[0],y:e[1]},p2:{x:e[2],y:e[3]}}}function a(e,t){return{x:Math.round(e.x/t)*t,y:Math.round(e.y/t)*t}}function l(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function d(e){const t=l(e);return{x:e.x/t,y:e.y/t}}function u(e,t){return e.x*t.x+e.y*t.y}function p(e,t){return{x:e.x*t,y:e.y*t}}function y(...e){let t,n;if(1===e.length){const r=e[0];t=r.p1,n=r.p2}else t=e[0],n=e[1];return{p1:{x:Math.min(t.x,n.x),y:Math.min(t.y,n.y)},p2:{x:Math.max(t.x,n.x),y:Math.max(t.y,n.y)}}}function m(e,t){return{p1:f(e.p1,t),p2:f(e.p2,t)}}function f(e,t){return{x:e.x+t.x,y:e.y+t.y}}function g(e,t){return{x:e.x-t.x,y:e.y-t.y}}function h(e,t){return e.x===t.x&&e.y===t.y}function I(e,t){return!((t=y(t)).p1.x>e.x||t.p2.x<e.x||t.p1.y>e.y||t.p2.y<e.y)}function v(e){return{width:(e=y(e)).p2.x-e.p1.x,height:e.p2.y-e.p1.y}}function b(e,t){return e=y(e),t=y(t),{p1:{x:Math.min(e.p1.x,t.p1.x),y:Math.min(e.p1.y,t.p1.y)},p2:{x:Math.max(e.p2.x,t.p2.x),y:Math.max(e.p2.y,t.p2.y)}}}function E(e,t){return e=y(e),t=y(t),!(e.p1.x>t.p2.x||e.p2.x<t.p1.x||e.p1.y>t.p2.y||e.p2.y<t.p1.y)}},4875:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(7531).q_)()},4100:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var r=n(7294),i=n(1033);function o(e){const[t,n]=r.useState({left:0,top:0,right:0,bottom:0,width:0,height:0});return r.useLayoutEffect((()=>{if(!e.current)return;const t=new i.Z((()=>{const t=e.current;if(!t)return;const r=t.getBoundingClientRect();n({top:r.top,left:r.left,right:r.right,bottom:r.bottom,width:r.width,height:r.height})}));return t.observe(e.current),()=>{t.disconnect()}}),[e]),t}},7165:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9242);function i(e){return(0,r.v9)(e)}},6834:(e,t,n)=>{"use strict";var r=n(7294),i=n(3935),o=(n(1033),n(9242)),s=n(5977),c=n(862),a=n(7865),l=n(4875),d=n(6949),u=n(6600),p=n(8623),y=n(2367),m=n(2813),f=n(7165),g=n(6192);const h=(0,n(5908).M)((e=>e.layout));var I=n(3274),v=n(152),b=n(7366),E=n(5621),k=n(4484),O=n(2165),N=n(7243),C=n(3634),x=n(5758),j=n(928),w=n.n(j),P=n(3084),B=n(5213),M=n(1089),Z=n(9977),S=n(6222);const R=e=>r.createElement("button",Object.assign({className:"button--Ui3Hp",type:"button"},e),e.children);var D=n(9181);const J=({circuitId:e,circuitNodeIdPath:t})=>{const n=(0,o.I0)(),i=(0,D.d5)(),s=(0,f.Z)((e=>(0,Z.w)(e,S.u))),c=(0,f.Z)((t=>(0,Z.w)(t,e))),a=r.useCallback((e=>{e.preventDefault(),n((0,P._A)(S.u,[],{tesselPath:i}))}),[n,i]);return r.createElement(R,{onClick:a},0===t.length?c:s)},T=({circuitNodeIdPath:e})=>{const t=(0,o.I0)(),n=(0,D.d5)(),i=w()(e),s=(0,f.Z)((e=>(0,B.og)(e,i))),c=(0,f.Z)((e=>(0,B.uk)(e,i))),a=s?(0,M.X)(s):null,l=(0,f.Z)((e=>a?(0,Z.w)(e,a):null)),d=r.useCallback((r=>{r.preventDefault(),a&&t((0,P._A)(a,e,{tesselPath:n}))}),[a,e,t,n]);return r.createElement(R,{onClick:d},c," [",l,"]")},L=({circuitId:e,circuitNodeIdPath:t})=>{const n=t.map(((e,n)=>{const i=t.slice(0,n+1);return r.createElement(r.Fragment,{key:e},r.createElement("span",null,">"),r.createElement(T,{circuitNodeIdPath:i}))}));return r.createElement("div",{className:(0,u.yI)("circuit-node-breadcrumb","circuit-node-breadcrumb--3Rx3N")},r.createElement(J,{circuitId:e,circuitNodeIdPath:t}),n)};var A=n(9240),W=n(8370),z=n(4100),U=n(2222),F=n(2628),q=n.n(F),G=n(4150),_=n(5393);const H=Object.freeze({p1:{x:-100,y:-100},p2:{x:100,y:100}}),K=(0,U.createSelector)(G.g,_.v5,((e,t)=>[...q()(e),...q()(t).map((e=>({p1:e,p2:e})))].reduce(W.G0,H))),V=(0,n(9990).u)((e=>e.viewScale));var X=n(2619),$=n(1387),Q=n(4882);const Y=r.createContext((function(){}));function ee(){return r.useContext(Y)}const te=Y.Provider;var ne=n(1935),re=n(5054);function ie(){}const oe={registerPopoverChild:ie,unregisterPopoverChild:ie},se=r.createContext(null),ce=({registerPopoverChild:e,unregisterPopoverChild:t,children:n})=>{const i=r.useContext(se),o=null==i?void 0:i.registerPopoverChild,s=null==i?void 0:i.unregisterPopoverChild,c=r.useCallback((t=>{o&&o(t),e(t)}),[e,o]),a=r.useCallback((e=>{t(e)}),[t,s]),l=r.useMemo((()=>({registerPopoverChild:c,unregisterPopoverChild:a})),[c,a]);return r.createElement(se.Provider,{value:l},n)};var ae=n(1966),le=n.n(ae);const de=({isOpen:e,anchorEl:t,placement:n="auto",onRequestClose:o,children:s})=>{const[c,a]=r.useState(null),{attributes:l,styles:d}=(0,ne.D)(e?t:null,c,{placement:n});!function(e){var t;const n=null!==(t=r.useContext(se))&&void 0!==t?t:oe,i=r.useRef(n);r.useEffect((()=>{i.current=n})),r.useEffect((()=>{if(e)return i.current.registerPopoverChild(e),()=>i.current.unregisterPopoverChild(e)}),[e])}(c);const[p,y,m]=function(e=[]){const[t,n]=r.useState(e),i=r.useCallback((e=>{n([...t,e])}),[t]),o=r.useCallback((e=>{n(le()(t,[e]))}),[t]);return[t,i,o,n]}();return function(e,t,n=!0){const i=r.useCallback((n=>{const r=(0,re._2)(e).filter(u.fQ);r.length&&r.every((e=>!e.contains(n.target)))&&t()}),[e,t]);r.useEffect((()=>{if(n)return document.addEventListener("mousedown",i),document.addEventListener("touchstart",i),()=>{document.removeEventListener("mousedown",i),document.removeEventListener("touchstart",i)}}),[i,n])}(r.useMemo((()=>[c,...p]),[p,c]),o),e?(0,i.createPortal)(r.createElement(ce,{registerPopoverChild:y,unregisterPopoverChild:m},r.createElement("div",Object.assign({ref:a,style:d.popper},l.popper),s)),document.body):null},ue=({x:e,y:t,open:n,onRequestClose:i,children:o})=>{const s=r.useMemo((()=>({getBoundingClientRect:()=>({left:e,top:t,right:e,bottom:t,width:0,height:0,x:e,y:t})})),[e,t]);return r.createElement(te,{value:i},r.createElement(de,{isOpen:n,onRequestClose:i,anchorEl:s,placement:"bottom-start"},o))};function pe(){const[e,t]=r.useState(null),n=r.useCallback((e=>{t({x:e.pageX,y:e.pageY})}),[]),i=r.useCallback((()=>{t(null)}),[]);return{openContextMenu:n,renderContextMenu:r.useCallback((t=>e?r.createElement(ue,{open:!0,onRequestClose:i,x:e.x,y:e.y},t):null),[e,i])}}const ye={current:null},me=r.createContext({svgRef:ye,scalerRef:ye}),fe=me.Provider,ge=({svgRef:e,scalerRef:t,children:n})=>{const i=r.useMemo((()=>({svgRef:e,scalerRef:t})),[e,t]);return r.createElement(fe,{value:i},n)};var he=n(5273),Ie=n(1556);function ve(e,t,n){const r=t.getScreenCTM();if(!r)return n;const i=e.createSVGPoint();i.x=n.x,i.y=n.y;const o=i.matrixTransform(r.inverse());return{x:o.x,y:o.y}}function be(){const{svgRef:e,scalerRef:t}=r.useContext(me);return r.useCallback((n=>{if(!e.current||!t.current)return W.Ds;const r={x:n.pageX,y:n.pageY};return ve(e.current,t.current,r)}),[e,t])}const Ee="@node/new",ke=e=>({type:Ee,payload:{nodeType:e}});function Oe(e){return e.type===Ee}const Ne=r.createContext({circuitId:S.u,circuitNodePath:[]});function Ce(){return r.useContext(Ne)}const xe=({circuitId:e,circuitNodePath:t,children:n})=>{const i=r.useMemo((()=>({circuitId:e,circuitNodePath:t})),[e,t]);return r.createElement(Ne.Provider,{value:i},n)};var je=n(3304);const we=Object.freeze({}),Pe=r.memo((function({className:e,circuitNodeId:t,x:n=0,y:i=0,nodeType:o}){const s=(0,f.Z)((e=>(0,je.yP)(e,o)));let c;if(s){const{component:e}=s.visual;c=r.createElement(e,{circuitNodeId:t,elementState:we})}else c=r.createElement("rect",{x:n,y:i,width:50,height:50,fill:"red"});const a=0!=n||0!=i?`translate(${n}, ${i})`:void 0;return r.createElement("g",{className:(0,u.yI)(e,"node-visual"),transform:a},c)})),Be=r.memo((function(){const e=(0,o.I0)(),{circuitId:t}=Ce(),n=(0,f.Z)(Ie.pf),i=function(){const{svgRef:e,scalerRef:t}=r.useContext(me);return r.useCallback((n=>e.current&&t.current?ve(e.current,t.current,n):n),[e,t])}(),[s,c]=r.useState(null),[a,l]=r.useState(null),[,d]=(0,A.L)({accept:Ee,collect:e=>{e.isOver()||(l(null),c(null))},hover:(e,t)=>{if(!Oe(e))return l(null),void c(null);const n=t.getClientOffset();if(!n)return;const r=i({x:n.x,y:n.y});c(e.payload.nodeType),l(r)},drop:(r,o)=>{if(!Oe(r))return;const s=o.getClientOffset();if(!s)return;const c=i({x:s.x,y:s.y});e((0,he.gz)(r.payload.nodeType,t,(0,W.R9)(c,n)))}},[t,i,n]),u=a&&(0,W.R9)(a,n);return r.createElement(r.Fragment,null,u&&s&&r.createElement("g",{opacity:.5},r.createElement(Pe,{x:u.x,y:u.y,nodeType:s})),r.createElement("rect",{ref:d,width:"100%",height:"100%",fill:"transparent"}))}));var Me=n(8718),Ze=n.n(Me),Se=n(6604),Re=n.n(Se),De=n(1486),Je=n(7836),Te=n(6773);const Le=(0,U.createSelector)(Je.d4,De.T,((e,t)=>Ze()(t,e))),Ae=(0,U.createSelector)(Je.d4,B.KO,((e,t)=>Ze()(t,e))),We=r.memo((function(){const e=(0,f.Z)(Le),t=(0,f.Z)(Ae),n=(0,f.Z)(Te.KQ);let i=null;return n&&(i=q()(Re()(e,((e,i)=>r.createElement(Pe,{key:i,nodeType:t[i],x:e.x+n.x,y:e.y+n.y}))))),r.createElement("g",{id:"drag-node-preview-layer",opacity:.3},i)}));const ze=e=>{var{x:t,y:n,interactable:i=!0,selected:o=!1}=e,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["x","y","interactable","selected"]);const[c,a]=r.useState(!1),l=r.useCallback((()=>{i&&a(!0)}),[i]),d=r.useCallback((()=>{a(!1)}),[]);return r.createElement("circle",Object.assign({className:(0,u.yI)("wire-joint--DrAWT",o&&"selected--1I6Un"),cx:t,cy:n,r:i&&c||o?4:2,onMouseOver:l,onMouseOut:d},s))},Ue=(0,U.createSelector)(Je.O5,_.v5,((e,t)=>Ze()(t,e))),Fe=r.memo((function(){const e=(0,f.Z)(Te.KQ),t=(0,f.Z)(Ue),n=(0,f.Z)(Te.pc);let i=null;e&&(i=q()(t).map(((t,n)=>r.createElement(ze,{key:n,interactable:!1,x:t.x+e.x,y:t.y+e.y,opacity:.5}))));let o=null;return n&&(o=r.createElement(ze,{interactable:!1,x:n.x,y:n.y,opacity:.5})),r.createElement("g",{id:"drag-joint-preview-layer",opacity:.3},i,o)}));var qe=n(2550);function Ge(e){const{dragThreshold:t=5,onClick:n,onDragStart:i,onDragMove:o,onDragEnd:s}=e,[c,a]=r.useState(!1),l=r.useRef(!1),d=r.useRef(!1),u=r.useRef(W.Ds),p=r.useCallback((e=>{l.current||(l.current=!0,a(!0),u.current={x:e.pageX,y:e.pageY})}),[]),y=r.useCallback((()=>{l.current=!1,a(!1),d.current=!1,u.current=W.Ds}),[]),m=r.useCallback((e=>{if(l.current)if(d.current){if(o){const t=(0,W.sj)({x:e.pageX,y:e.pageY},u.current);o(t,e)}}else{const n=u.current;(Math.abs(n.x-e.pageX)>=t||Math.abs(n.y-e.pageY)>=t)&&(d.current=!0,i&&i(e))}}),[t,o,i]),f=r.useCallback((e=>{if(l.current){if(d.current){if(s){const t=(0,W.sj)({x:e.pageX,y:e.pageY},u.current);s(t,e)}}else n&&n(e);y()}}),[y,n,s]);return r.useEffect((()=>{if(c)return document.addEventListener("mousemove",m),document.addEventListener("mouseup",f),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",f)}}),[c,m,f]),{startTracking:p,cancelTracking:y}}var _e=n(1578),He=n(853),Ke=n(8177),Ve=n(4);const Xe=r.memo((function(){const e=(0,o.I0)(),{circuitId:t}=Ce(),n=(0,o.v9)(Te.xn),i=(0,o.v9)(V);function s(e){return e*(1/i)}const c=be(),a=r.useCallback((t=>{if(0!==t.button)return;const n=(0,qe.h)(t);n.ctrlMetaKey||n.shiftKey||e((0,_e.MO)())}),[e]),l=r.useCallback((n=>{const r=c(n);e((0,He.wZ)(r,t))}),[t,e,c]),d=r.useCallback(((t,n)=>{const r=c(n),i=(0,qe.h)(n);e((0,Ke.ey)(r,i))}),[e,c]),u=r.useCallback(((t,n)=>{const r=c(n),i=(0,qe.h)(n);e((0,Ve.k4)(r,i))}),[e,c]),{startTracking:p}=Ge({onClick:a,onDragStart:l,onDragMove:d,onDragEnd:u}),y=r.useCallback((e=>{e.defaultPrevented||(e.preventDefault(),p(e))}),[p]);return r.createElement("g",{id:"drag-select-layer"},r.createElement("rect",{width:100*s(1)+"%",height:100*s(1)+"%",fill:"transparent",onMouseDown:y}),n&&r.createElement("g",{transform:`translate(${n.p1.x}, ${n.p1.y})`},r.createElement("rect",{width:n.p2.x-n.p1.x,height:n.p2.y-n.p1.y,strokeWidth:s(2),strokeDasharray:`${s(5)} ${s(3)}`,stroke:"skyblue",fill:"transparent"})))})),$e=r.memo((function(){const e=50*(0,f.Z)(V);return r.createElement("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},r.createElement("defs",null,r.createElement("pattern",{id:"grid",width:e,height:e,patternUnits:"userSpaceOnUse"},r.createElement("path",{d:`M ${e} 0 L 0 0 0 ${e}`,fill:"none",stroke:"gray",strokeWidth:.5}))),r.createElement("rect",{width:"100%",height:"100%",fill:"url(#grid)"}))}));var Qe=n(8133),Ye=n(3871),et=n(2334),tt=n(5100),nt=n(4368);const rt=(0,n(4199).s)((e=>e.nodeNameMode));var it=n(8198),ot=n(4662),st=n(4443);const ct="menu-item--2dcyN",at="menu-item--disabled--RJJTK",lt="menu-item-content--3s1DG",dt="menu-item-text--1F41V",ut="menu-item-secondary--2PJLF",pt=({children:e})=>r.createElement("ul",{className:"menu--3E86w"},e),yt=()=>r.createElement("div",{className:"menu-divider--1QPGp"}),mt=r.forwardRef((({className:e,autoFocus:t,defaultValue:n,value:i,onChange:o,onBeginEdit:s,onCommit:c,onCancel:a,onBlur:l,onKeyUp:d},u)=>{const[p,y]=r.useState(null),m=r.useCallback((e=>{null==p&&s&&s(),y(e.target.value),o&&o(e)}),[p,s,o]),f=r.useCallback((e=>{d&&d(e),e.defaultPrevented||null!=p&&("Escape"===e.key?(e.preventDefault(),a&&a()):"Enter"===e.key&&(e.preventDefault(),c&&c(p)))}),[d,p,a,c]),g=r.useCallback((e=>{l&&l(e),null!=p&&c&&c(p)}),[l,p,c]);return r.createElement("input",{ref:u,className:e,autoFocus:t,defaultValue:n,value:i,type:"text",onChange:m,onKeyUp:f,onBlur:g})})),ft=({className:e,textClassname:t,inputClassname:n,label:i,defaultValue:o,isEditing:s,onRequestEdit:c,onCommit:a,onCancel:l})=>{const d=r.useRef(null),p=r.useCallback((e=>{c&&(e.defaultPrevented||(e.preventDefault(),c()))}),[c]),y=r.useCallback((e=>{"Escape"===e.key&&s&&l()}),[s,l]),m=r.useCallback((()=>{s&&l()}),[s,l]);return r.useEffect((()=>{s&&d.current&&d.current.select()}),[s]),s?r.createElement(mt,{ref:d,className:(0,u.yI)(e,n),autoFocus:!0,defaultValue:o,onBlur:m,onKeyUp:y,onCommit:a,onCancel:l}):r.createElement("span",{className:(0,u.yI)(e,t),onDoubleClick:p},null!=i?i:o)},gt=e=>{const{onRequestEdit:t,onCommit:n}=e,i=ee(),o=r.useCallback((()=>{t&&t()}),[t]),s=r.useCallback((e=>{n(e),i()}),[n,i]);return r.createElement("li",{className:ct,onClick:o},r.createElement(ft,Object.assign({},e,{onCommit:s})))},ht=({disabled:e,onClick:t,secondary:n,children:i})=>{const o=ee(),s=r.useCallback((e=>{t&&t(e),o()}),[o,t]);return r.createElement("li",{className:(0,u.yI)(ct,e&&at)},r.createElement("a",{className:lt,onClick:s},r.createElement("span",{className:dt},i),n&&r.createElement("span",{className:ut},n)))};var It=n(5409);const vt=()=>{const e=(0,o.I0)(),t=r.useCallback((()=>{e((0,It.Fs)())}),[e]),n=r.useCallback((()=>{e((0,O.NE)())}),[e]);return r.createElement(r.Fragment,null,r.createElement(ht,{onClick:t},"Align Selection To Grid"),r.createElement(yt,null),r.createElement(ht,{onClick:n},"Delete Selected"))},bt=({nodeId:e})=>{const t=(0,o.I0)(),n=(0,f.Z)((t=>(0,B.uk)(t,e))),[i,s]=r.useState(!1),c=r.useCallback((()=>{s(!0)}),[]),a=r.useCallback((()=>{s(!1)}),[]),l=r.useCallback((n=>{s(!1),t((0,st.w)(e,n))}),[t,e]);return r.createElement(pt,null,r.createElement(gt,{defaultValue:null!=n?n:"<unknown>",label:r.createElement("span",{style:{fontWeight:"bold"}},n),isEditing:i,onRequestEdit:c,onCommit:l,onCancel:a}),r.createElement(yt,null),r.createElement(vt,null))},Et=r.memo((function({nodeId:e}){const t=(0,o.I0)(),{circuitNodePath:n}=Ce(),i=(0,f.Z)(X.D7),{openContextMenu:s,renderContextMenu:c}=pe(),a=(0,f.Z)((t=>(0,nt.m)(t,e))),{x:l,y:d}=(0,f.Z)((t=>(0,De.e)(t,e))),p=(0,f.Z)((t=>(0,tt.R)(t,[...n,e]))),y=(0,f.Z)((t=>(0,Je.CP)(t,e))),m=be(),g=r.useCallback((n=>{if(i)return;if(n.defaultPrevented)return;if(0!==n.button)return;n.preventDefault();const r=(0,qe.h)(n),o=(0,Ye.t)(r);t((0,ot.lF)(e,o))}),[t,i,e]),h=r.useCallback((n=>{if(n.defaultPrevented)return;n.preventDefault();const r=(0,qe.h)(n),i=(0,Ye.t)(r,"set-if-unselected");t((0,ot.lF)(e,i)),s(n)}),[t,e,s]),I=r.useCallback((n=>{const r=m(n),i=(0,qe.h)(n);t((0,it.hZ)(e,r,i))}),[m,t,e]),v=r.useCallback(((e,n)=>{const r=m(n),i=(0,qe.h)(n);t((0,Ke.ey)(r,i))}),[t,m]),b=r.useCallback(((e,n)=>{const r=m(n),i=(0,qe.h)(n);t((0,Ve.k4)(r,i))}),[t,m]),{startTracking:E}=Ge({onClick:g,onDragStart:I,onDragMove:v,onDragEnd:b}),k=r.useCallback((e=>{0===e.button&&(e.defaultPrevented||(e.preventDefault(),E(e)))}),[E]);if(!a)return null;let O,N;if(a){const{component:t,hitRect:i}=a.visual;O=r.createElement(t,{circuitNodeId:e,circuitNodePath:n,elementState:p}),N=i}else O=r.createElement("rect",{x:l,y:d,width:50,height:50,fill:y?"goldenrod":"red"}),N={p1:W.Ds,p2:{x:50,y:50}};const C=0!=l||0!=d?`translate(${l}, ${d})`:void 0;return r.createElement("g",{transform:C},r.createElement("g",{className:(0,u.yI)("circuit-field-node",y&&"node-selected"),onMouseDown:k,onContextMenu:h},O),r.createElement(kt,{nodeId:e,hitRect:N}),c(r.createElement(bt,{nodeId:e})))})),kt=r.memo((function({nodeId:e,hitRect:t}){const n=(0,f.Z)(V),i=(0,f.Z)((t=>((e,t)=>{switch(e.services.uiSettings.nodeNameMode){case"all":default:return(0,B.uk)(e,t);case"named-only":return(0,B.p2)(e,t);case"none":return null}})(t,e))),o=Math.max(.7,n);let s=15;return o>1?s-=2*o:s+=1/o*7,i?r.createElement("text",{fontSize:1.2/o+"em",className:et.Z["text-unselectable"],textAnchor:"middle",x:t.p1.x+(t.p2.x-t.p1.x)/2,y:t.p2.y+s},i):null})),Ot=Et,Nt=r.memo((function(){const{circuitId:e}=Ce(),t=(0,f.Z)((t=>(0,Qe.U4)(t,e))).map((e=>r.createElement(Ot,{key:e,nodeId:e})));return r.createElement("g",{id:"nodes-layer"},t)}));var Ct=n(6486);const xt=(0,U.createSelector)(((e,t)=>(0,Qe.U4)(e,t)),(e=>e.services.nodeGraph.connectionsById),((e,t)=>Object.keys(t).filter((n=>{const{inputPin:r,outputPin:i}=t[n];return!!(0,Ct.includes)(e,r.nodeId)&&!!(0,Ct.includes)(e,i.nodeId)}))));var jt=n(5879),wt=n.n(jt),Pt=n(1755);const Bt=wt()(((e,t,n)=>e.services.nodeGraph.connectionsById[n]),((e,t)=>t),(e=>e.services.simulatorGraph.simulatorNodeIdsByCircuitNodeId),(e=>e.services.simulator.nodeOutputValuesByNodeId),((e,t,n,r)=>{var i;if(!e)return!1;const{outputPin:{nodeId:o,pinId:s}}=e,c=(0,Pt.F9)(n,[...t,o]);return c&&(null===(i=r[c])||void 0===i?void 0:i[s])||!1}))(((e,t,n)=>t.join(".")+"::"+n));var Mt=n(1883),Zt=n(4691);const St=r.memo((function({connectionId:e,startJointId:t,endJointId:n}){const i=(0,o.I0)(),s=be(),c=(0,f.Z)((n=>null==t?(0,_.qX)(n,e):(0,_.oW)(n,t))),a=(0,f.Z)((t=>null==n?(0,_.wR)(t,e):(0,_.oW)(t,n))),[l,d]=r.useState(null),u=r.useCallback((e=>{const t=s(e);d(t)}),[s]),p=r.useCallback((()=>{d(null)}),[]),y=r.useCallback((n=>{const r=s(n),o=(0,qe.h)(n);i((0,Mt.gM)(e,t,r,o))}),[s,i,e,t]),m=r.useCallback(((e,t)=>{const n=s(t),r=(0,qe.h)(t);i((0,Ke.ey)(n,r))}),[i,s]),g=r.useCallback(((e,t)=>{const n=s(t),r=(0,qe.h)(t);i((0,Ve.k4)(n,r))}),[i,s]),h=r.useCallback((t=>{const n=(0,qe.h)(t),r=(0,Ye.t)(n);i((0,Zt.Rp)(e,r))}),[e,i]),{startTracking:I}=Ge({onClick:h,onDragStart:y,onDragMove:m,onDragEnd:g}),v=r.useCallback((e=>{e.preventDefault(),I(e)}),[I]);let b;if(l){const e=(0,W.Fv)((0,W.sj)(a,c)),t=(0,W.sj)(l,c),n=(0,W.Ih)(t,e);b=(0,W.ZO)(c,(0,W.bA)(e,n))}return r.createElement("g",{onMouseMove:u,onMouseLeave:p},r.createElement("line",{x1:c.x,y1:c.y,x2:a.x,y2:a.y,strokeWidth:2}),b&&r.createElement("circle",{cx:b.x,cy:b.y,r:3,stroke:"none",fill:"red",onMouseDown:v}))}));var Rt=n(2571),Dt=n(713);const Jt=r.memo((function({jointId:e}){const t=be(),n=(0,o.I0)(),i=(0,f.Z)((t=>(0,Je.g7)(t,e))),s=(0,f.Z)((t=>(0,_.oW)(t,e))),c=r.useCallback((r=>{const i=t(r),o=(0,qe.h)(r);n((0,Dt.R4)(e,i,o))}),[n,t,e]),a=r.useCallback(((e,r)=>{const i=t(r),o=(0,qe.h)(r);n((0,Ke.ey)(i,o))}),[n,t]),l=r.useCallback(((e,r)=>{const i=t(r),o=(0,qe.h)(r);n((0,Ve.k4)(i,o))}),[n,t]),d=r.useCallback((t=>{const r=(0,qe.h)(t),i=(0,Ye.t)(r);n((0,Rt.a2)(e,i))}),[n,e]),{startTracking:u}=Ge({onClick:d,onDragStart:c,onDragMove:a,onDragEnd:l}),p=r.useCallback((e=>{e.preventDefault(),u(e)}),[u]);return r.createElement(ze,{selected:i,x:s.x,y:s.y,onMouseDown:p})})),Tt=r.memo((function({connectionId:e}){const{circuitNodePath:t}=Ce(),n=(0,f.Z)((t=>(0,_.qq)(t,e))),i=(0,f.Z)((n=>Bt(n,t,e))),o=(0,f.Z)((t=>(0,Je.nG)(t,e))),s=[...n,null].map(((t,i)=>{const o=i>0?n[i-1]:null;return r.createElement(St,{key:i,connectionId:e,startJointId:o,endJointId:t})})),c=n.map((e=>r.createElement(Jt,{key:e,jointId:e})));return r.createElement("g",{className:(0,u.yI)("wire--3TtqK",i&&"powered--3lHhu",o&&"selected--3qbV0")},s,c)})),Lt=r.memo((function(){const{circuitId:e}=Ce(),t=(0,f.Z)((t=>xt(t,e))).map((e=>r.createElement(Tt,{key:e,connectionId:e})));return r.createElement("g",{id:"wires-layer"},t)}));var At=n(9203),Wt=n(3065),zt=n(4206);const Ut="is-drag-target--1_8nq";function Ft(e,t,n,r,i){const o=qt(e,t,n,i),s=qt(e,t,n,r),c=i-r<=180?"0":"1";return["M",o.x,o.y,"A",n,n,0,c,0,s.x,s.y].join(" ")}function qt(e,t,n,r){const i=(r-90)*Math.PI/180;return{x:e+n*Math.cos(i),y:t+n*Math.sin(i)}}const Gt=r.memo((function({nodeId:e,pinId:t}){const n=be(),i=(0,o.I0)(),s=(0,f.Z)((n=>(0,At.G)(n,e,t))),c=(0,f.Z)((n=>(0,Wt.k_)(n,e,t))),a=(0,f.Z)(Te.qO),l=r.useCallback((r=>{const o=n(r);i((0,zt.V)(o,{nodeId:e,pinId:t}))}),[i,n,e,t]),d=r.useCallback(((e,t)=>{const r=n(t),o=(0,qe.h)(t);i((0,Ke.ey)(r,o))}),[i,n]),p=r.useCallback(((e,t)=>{const r=n(t),o=(0,qe.h)(t);i((0,Ve.k4)(r,o))}),[i,n]),{startTracking:y}=Ge({onDragStart:l,onDragMove:d,onDragEnd:p}),m=r.useCallback((e=>{0===e.button&&(e.defaultPrevented||(e.preventDefault(),e.stopPropagation(),y(e)))}),[y]);if(!s)return null;const g=null!=a&&a.nodeId===e&&a.pinId===t,{x:h,y:I}=s;let v;return v="input"===c?r.createElement("path",{d:Ft(h,I,3,-45,225),className:(0,u.yI)("node-pin-input--2bnnb",g&&Ut)}):r.createElement("circle",{className:(0,u.yI)("node-pin-output--Okd03",g&&Ut),cx:h,cy:I,r:3}),r.createElement("g",null,v,r.createElement("circle",{stroke:"none",fill:"transparent",cx:h,cy:I,r:3,onMouseDown:m}))})),_t=r.memo((function({nodeId:e}){var t;const n=(0,f.Z)((t=>(0,nt.m)(t,e))),i=null!==(t=null==n?void 0:n.pins)&&void 0!==t?t:{},o=Object.keys(i).map((t=>r.createElement(Gt,{key:t,nodeId:e,pinId:t})));return r.createElement(r.Fragment,null,o)})),Ht=r.memo((function(){const{circuitId:e}=Ce(),t=(0,f.Z)((t=>(0,Qe.U4)(t,e))).map((e=>r.createElement(_t,{key:e,nodeId:e})));return r.createElement("g",{id:"node-pins-layer"},t)})),Kt=r.memo((function(){const e=(0,f.Z)(Te.rC),t=(0,f.Z)(Te.zL),n=(0,f.Z)(Te.Ll);return"wire"==e&&t&&n?r.createElement("line",{x1:t.x,y1:t.y,x2:n.x,y2:n.y,stroke:"black",strokeWidth:1}):null})),Vt=()=>r.createElement(pt,null,r.createElement(vt,null)),Xt=({className:e,circuitId:t,circuitNodePath:n})=>{const i=(0,o.I0)(),s=r.useRef(null),c=r.useRef(null),a=r.useRef(null),l=(0,f.Z)(X.D7),{openContextMenu:d,renderContextMenu:p}=pe(),{width:y,height:m}=(0,z.E)(s),g=(0,f.Z)(K),{width:h,height:I}=(0,W.nF)(g),v=(0,f.Z)(V),b=Math.max(y,h*v),E=Math.max(m,I*v),k=r.useCallback((()=>{var e;null===(e=c.current)||void 0===e||e.focus()}),[]),O=r.useCallback((()=>{i((0,$.xr)())}),[i]),N=r.useCallback((e=>{e.defaultPrevented||(e.preventDefault(),d(e))}),[d]),C=r.useCallback((e=>{e.defaultPrevented||e.ctrlKey&&(i((0,Q.iM)(e.deltaY>0?-1:1)),e.preventDefault(),e.stopPropagation())}),[i]);var x,j,w,P;x=s,j="wheel",w=C,P={passive:!1},r.useEffect((()=>{if(!x.current)return;const e=x.current;return e.addEventListener(j,w,P),()=>{e.removeEventListener(j,w,P)}}),[j,w,x,P]);const[{isDragging:B},M]=(0,A.L)({accept:Ee,collect:e=>({isDragging:e.isOver()})});return r.createElement(xe,{circuitId:t,circuitNodePath:n},r.createElement("div",{className:(0,u.yI)("circuit-field","circuit-field--3PQBN",e)},r.createElement("div",{className:"circuit-field-scrollarea--vyu82"},r.createElement("div",{ref:s,style:{width:"100%",height:"100%"}},r.createElement("svg",{tabIndex:-1,ref:e=>{c.current=e,M(e)},width:b,height:E,onMouseDown:k,onMouseLeave:O,onContextMenu:N,className:(0,u.yI)(l&&"simulator-active")},r.createElement($e,null),r.createElement("g",{ref:a,"transform-origin":"0 0",transform:`scale(${v})`},r.createElement(ge,{svgRef:c,scalerRef:a},r.createElement(Xe,null),r.createElement(Nt,null),r.createElement(Lt,null),r.createElement(Ht,null),r.createElement(Kt,null),r.createElement(We,null),r.createElement(Fe,null),B&&r.createElement(Be,null)))))),p(r.createElement(Vt,null))))};var $t=n(1474),Qt=n(8402),Yt=n(2385),en=n(1536);const tn="icon--3Vly6",nn=e=>r.createElement("svg",Object.assign({width:16,height:16},e,{className:(0,u.yI)(tn,e.className)}),r.createElement("path",{d:"M4,4 L12,12 M4,12 L12,4"})),rn=({title:e,className:t,children:n})=>{const i=(0,D.d5)(),{closeWindow:o}=(0,D.DC)(),s=r.useCallback((()=>{o(i)}),[o,i]),[,c]=(0,$t.c)({item:(0,Qt.tw)(i)});return r.createElement(Yt.Z,{className:en.Z["tessel-window"]},r.createElement("div",{ref:c,className:en.Z["tessel-window-titlebar"]},r.createElement("div",{className:en.Z["tessel-window-title"]},e),r.createElement("div",{className:en.Z["tessel-window-controls"]},r.createElement(nn,{className:en.Z["tessel-window-controls-close"],onClick:s}))),r.createElement("div",{className:(0,u.yI)(en.Z["tessel-window-content"],t)},n))};var on=n(5667);const sn="keymap:CircuitEditor/SimStep",cn="keymap:CircuitEditor/SimFastForward",an="keymap:CircuitEditor/SelectAll",ln="keymap:CircuitEditor/Copy",dn="keymap:CircuitEditor/Paste",un="keymap:CircuitEditor/Delete",pn="keymap:CircuitEditor/Undo",yn="keymap:CircuitEditor/Redo",mn={[sn]:"space",[cn]:"shift+space",[an]:on.t+"+a",[ln]:on.t+"+c",[dn]:on.t+"+v",[un]:["backspace","del"],[pn]:on.t+"+z",[yn]:[on.t+"+y",on.t+"+shift+z"]};const fn=e=>{var{children:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["children"]);return r.createElement("div",Object.assign({},n,{className:y.Z["fill-parent"]}),t)};var gn=n(5984),hn=n(7252),In=n(1314);const vn=({value:e,label:t,isSelected:n,onItemSelected:i})=>{const o=r.useCallback((t=>{t.defaultPrevented||(t.preventDefault(),i(e))}),[i,e]);return r.createElement("li",{className:(0,u.yI)("selection-list-item","selection-list-item--errDr",n&&"selection-list-item--selected--3MkqB"),onClick:o},r.createElement("div",{className:(0,u.yI)("selection-list-item-content--321YU",et.Z["text-unselectable"])},t))},bn=({className:e,items:t,onItemSelected:n})=>r.createElement("ul",{className:(0,u.yI)("selection-list","selection-list--3yujH",e)},t.map((e=>r.createElement(vn,Object.assign({key:e.value},e,{onItemSelected:n}))))),En=({circuitId:e})=>{const t=(0,o.I0)(),n=(0,f.Z)((t=>(0,Z.w)(t,e))),[i,s]=r.useState(!1),{openContextMenu:c,renderContextMenu:a}=pe(),l=r.useCallback((()=>{e!==S.u&&s(!0)}),[e]),d=r.useCallback((()=>{s(!1)}),[]),u=r.useCallback((n=>{t((0,In.U3)(e,n)),s(!1)}),[e,t]),p=r.useCallback((n=>{n.preventDefault(),t((0,P._A)(e,null,{newWindow:!0}))}),[e,t]),y=r.useCallback((n=>{n.preventDefault(),t((0,gn.Zj)(e))}),[t,e]),m=r.useCallback((e=>{e.preventDefault(),e.stopPropagation(),c(e)}),[c]);return r.createElement("div",{style:{width:"100%"},onContextMenu:m,onDoubleClick:l},r.createElement(ft,{defaultValue:n,isEditing:i,onRequestEdit:l,onCommit:u,onCancel:d}),a(r.createElement(pt,null,e!==S.u&&r.createElement(r.Fragment,null,r.createElement(ht,{onClick:l},"Rename Circuit"),r.createElement(yt,null)),r.createElement(ht,{onClick:p},"Open in New Window"),e!==S.u&&r.createElement(r.Fragment,null,r.createElement(yt,null),r.createElement(ht,{onClick:y},"Delete Circuit")))))},kn=()=>{const e=(0,o.I0)(),t=r.useCallback((()=>{e((0,hn._Y)())}),[e]);return r.createElement(pt,null,r.createElement(ht,{onClick:t},"New Circuit"))},On=()=>{const e=(0,o.I0)(),t=(0,f.Z)(Z.nR),{openContextMenu:n,renderContextMenu:i}=pe(),s=r.useCallback((t=>{e((0,P._A)(t))}),[e]),c=r.useCallback((e=>{e.preventDefault(),n(e)}),[n]),a=r.useMemo((()=>Object.keys(t).map((e=>({value:e,label:r.createElement(En,{circuitId:e})})))),[t]);return r.createElement(rn,{title:"Circuits",className:(0,u.yI)("circuitstree--1eZ0Q")},r.createElement("div",{className:y.Z["fill-parent"],onContextMenu:c},r.createElement(bn,{className:y.Z["fill-parent"],items:a,onItemSelected:s})),i(r.createElement(kn,null)))};var Nn=n(4908),Cn=n.n(Nn);const xn=({category:e})=>{const t=(0,f.Z)(je.NJ).filter((t=>t.category===e)).filter((t=>t.category===e)).map((e=>r.createElement(jn,{key:e.type,nodeType:e.type})));return r.createElement(r.Fragment,null,r.createElement("li",{className:"node-tray-category---Phmh"},e),t)},jn=({nodeType:e})=>{const t=(0,f.Z)((t=>(0,je.yP)(t,e))),[,n]=(0,$t.c)({item:ke(e)});let i,o=e,s="0 0 50 50";if(t){const{trayComponent:e,component:n,hitRect:c}=t.visual;if(e){const t=e;i=r.createElement(t,null)}else i=r.createElement(wn,{component:n}),s=`${c.p1.x} ${c.p1.y} ${c.p2.x} ${c.p2.y}`;o=t.displayName}else i=r.createElement(Pn,null);return r.createElement("li",{ref:n,className:"node-tray-item--2_AyH"},r.createElement("span",{className:"node-tray-item-preview--2QFhF"},r.createElement("svg",{width:30,height:30,viewBox:s},i)),r.createElement("span",{className:et.Z["text-unselectable"]},o))},wn=({component:e})=>{const t=e;return r.createElement(t,{elementState:{}})},Pn=()=>r.createElement("rect",{fill:"red",x1:0,y1:0,x2:50,y2:50}),Bn={"node-tray":()=>{const e=(0,f.Z)(je.NJ),t=Cn()(e.map((e=>e.category)));return r.createElement(rn,{title:"Elements",className:"node-tray--1uIvj"},r.createElement("ul",{className:"node-tray-elements--KiJGM"},t.map((e=>r.createElement(xn,{key:e,category:e})))))},"circuit-field":({circuitId:e,circuitNodeIdPath:t})=>{var n;const i=(0,o.I0)(),s=null!==(n=(0,f.Z)((t=>(0,Z.w)(t,e))))&&void 0!==n?n:"<Circuit Missing>",c=r.useMemo((()=>{function t(e){return t=>{if(t){if(t.defaultPrevented)return;t.preventDefault()}i(e)}}return{[sn]:t((0,v.jf)(1)),[cn]:t((0,b.C2)()),[an]:t((0,N.td)(e)),[ln]:t((0,k.qn)()),[dn]:t((0,E.v)(e)),[un]:t((0,O.NE)()),[pn]:t((0,C.Yw)()),[yn]:t((0,x.KX)())}}),[i,e]);return e&&t?r.createElement(rn,{title:s+" [Circuit]"},r.createElement(I.HotKeys,{keyMap:mn,handlers:c,component:fn},r.createElement("div",{className:(0,u.yI)("circuit-field-view",y.Z["fill-parent"],p.Z["flex-column"])},r.createElement(L,{circuitId:e,circuitNodeIdPath:t}),r.createElement(Xt,{className:(0,u.yI)(y.Z["fill-parent"],p.Z["flexitem-shrink"]),circuitId:e,circuitNodePath:t})))):r.createElement("div",null,"Misconfigured circuit field window. Window must have a circuit id and circuit node id path.")},"circuits-list":On};function Mn(e){const t=Bn[e.windowId];return t?r.createElement(t,Object.assign({},e.windowProps)):null}const Zn=()=>{const e=(0,o.I0)(),t=(0,f.Z)(h),n=r.useCallback((t=>{e((0,m.T7)(t))}),[e]);return r.createElement(g.ZP,{className:(0,u.yI)("circuit-editor",y.Z["fill-parent"]),rootItem:t,onLayoutChange:n,renderWindow:Mn})};var Sn=n(7198);const Rn=({location:e})=>{const t=(0,o.I0)(),[n,i]=r.useState(!1);return r.useEffect((()=>{let n;try{n=new URLSearchParams(e.search)}catch(e){return void i(!0)}const r=n.get("data");r?t((0,Sn.vP)(r)):i(!0)}),[]),n?r.createElement("div",null,"Failed to import project"):r.createElement("div",null,"Importing Project...")},Dn=()=>r.createElement(s.rs,null,r.createElement(s.AW,{exact:!0,path:"/",component:Zn}),r.createElement(s.AW,{exact:!0,path:"/import",component:Rn}));var Jn=n(8473);const Tn=({content:e,placement:t,children:n})=>{const i=r.useRef(null),[o,s]=r.useState(!1),c=r.useCallback((()=>{s(!0)}),[]),a=r.useCallback((()=>{s(!1)}),[]);return r.createElement(te,{value:a},r.createElement("div",{ref:i,onClick:c},n),r.createElement(de,{anchorEl:i.current,isOpen:o,placement:t,onRequestClose:a},o&&e))};function Ln(e,...t){const n=(0,o.I0)();return r.useCallback(((...r)=>{const i=e(...t,...r);i&&n(i)}),[n,e,...t])}var An=n(38),Wn=n(3069),zn=n(6577),Un=n(4505);const Fn=()=>{const e=Ln(An.o9),t=Ln(Wn.UI),n=Ln(zn.Cb),i=Ln(Un.C9);return r.createElement(pt,null,r.createElement(ht,{onClick:e},"New"),r.createElement(yt,null),r.createElement(ht,{onClick:n},"Load"),r.createElement(ht,{onClick:t},"Save"),r.createElement(yt,null),r.createElement(ht,{onClick:i},"Export Link"))},qn=e=>e.undo.undoStack.length>0,Gn=e=>e.undo.redoStack.length>0,_n=()=>{const e=(0,f.Z)(qn),t=Ln(C.Yw),n=(0,f.Z)(Gn),i=Ln(x.KX);return r.createElement(pt,null,r.createElement(ht,{disabled:!e,secondary:on.t+"+z",onClick:t},"Undo"),r.createElement(ht,{disabled:!n,secondary:on.t+"+shift+z",onClick:i},"Redo"))};var Hn=n(5842),Kn=n(6323);const Vn=({className:e,value:t,onChange:n,children:i})=>r.createElement("label",{className:e},r.createElement("span",{className:"checkbox-span--1EWGs"},r.createElement("input",{type:"checkbox",checked:t,onChange:n})),i),Xn=({disabled:e,secondary:t,value:n,onChange:i,children:o})=>r.createElement("li",{className:(0,u.yI)(ct,e&&at)},r.createElement(Vn,{className:lt,value:n,onChange:i},r.createElement("span",{className:dt},o),t&&r.createElement("span",{className:ut},t))),$n=({disabled:e,secondary:t,content:n,children:i})=>r.createElement("li",{className:(0,u.yI)(ct,e&&at)},r.createElement(Tn,{placement:"right-start",content:n},r.createElement("a",{className:lt},r.createElement("span",{className:dt},i),t&&r.createElement("span",{className:ut},t),r.createElement("svg",{className:"menu-item-icon--JTlha",width:12,height:12},r.createElement("path",{d:"M0,0 l6,6 l-6,6 z",fill:"black",strokeWidth:0}))))),Qn=()=>{const e=(0,f.Z)(rt),t=Ln(Hn.pi,"all"),n=Ln(Hn.pi,"named-only"),i=Ln(Hn.pi,"none");return r.createElement(pt,null,r.createElement(Xn,{value:"all"===e,onChange:t},"Always visible"),r.createElement(Xn,{value:"named-only"===e,onChange:n},"Named Items Only"),r.createElement(Xn,{value:"none"===e,onChange:i},"Hidden"))},Yn=()=>{const e=Ln(Kn.Vl);return r.createElement(pt,null,r.createElement($n,{content:r.createElement(Qn,null)},"Element Names"),r.createElement(yt,null),r.createElement(ht,{onClick:e},"Reset View"))};var er=n(8910),tr=n(737),nr=n(8261);const rr=(0,n(6036).g)((e=>e.lastTickProcessingTimeMs)),ir=e=>r.createElement("svg",Object.assign({width:16,height:16},e,{className:(0,u.yI)(tn,e.className)}),r.createElement("path",{d:"M3,0 L13,8 L3,16 z"})),or=e=>r.createElement("svg",Object.assign({width:16,height:16},e,{className:(0,u.yI)(tn,e.className)}),r.createElement("path",{d:"M1,1 L15,1 L15,15 L1,15 z"})),sr=e=>r.createElement("svg",Object.assign({width:16,height:16},e,{className:(0,u.yI)(tn,e.className)}),r.createElement("path",{d:"M2.5,1 L6.5,1 L6.5,15 L2.5,15 z M9.5,1 L13.5,1 L13.5,15 L9.5,15 z"})),cr="button--1Syge",ar=()=>{const e=(0,f.Z)(X.D7),t=(0,f.Z)(X.Ro),n=(0,f.Z)(rr),i=Ln(er.Fr),o=Ln(tr.Sk),s=Ln(nr.ri,"toggle");return r.createElement("span",null,e&&r.createElement("span",{className:"simrate--1LNMp"},n.toFixed(2)," ms"),e?r.createElement(or,{className:(0,u.yI)(cr,"button-stop--264bH"),onClick:o}):r.createElement(ir,{className:(0,u.yI)(cr,"button-play--3gVDD"),onClick:i}),r.createElement(sr,{className:(0,u.yI)(cr,"button-pause--YWEL8",!e&&"button--disabled--2BVJb",t&&"selected--QetqX"),onClick:s}))},lr=({className:e})=>{const t=(0,f.Z)(Jn._),n=(0,f.Z)(Jn.P);return r.createElement("div",{className:(0,u.yI)("titlebar--3-TCE",e)},r.createElement("span",{className:"titlebar-heading--3RAl1"},"Discrelog"),r.createElement("div",{className:"titlebar-divider--Wl_27"}),r.createElement(Tn,{content:r.createElement(Fn,null),placement:"bottom-start"},r.createElement(R,null,"File")),r.createElement(Tn,{content:r.createElement(_n,null),placement:"bottom-start"},r.createElement(R,null,"Edit")),r.createElement(Tn,{content:r.createElement(Yn,null),placement:"bottom-start"},r.createElement(R,null,"View")),r.createElement("div",{className:"titlebar-projectname--1vIUJ"},t,n&&"*"),r.createElement("div",{className:"titlebar-controls--1R_l6"},r.createElement(ar,null)))};var dr=n(2047);const ur=(0,dr.m)((e=>e.dialogType)),pr=(0,dr.m)((e=>e.data));var yr=n(5222),mr=n(227),fr=n(1074);const gr=({className:e,isOpen:t,onRequestClose:n,children:o})=>t?(0,i.createPortal)(r.createElement("div",{className:(0,u.yI)("modal","modal--25LBN")},r.createElement(mr.Y,{onClickOutside:n,onEscapeKey:n},r.createElement("div",{className:(0,u.yI)("modal-content--1H0T_",e)},r.createElement(fr.Z,{className:y.Z["fill-parent"]},o)))),document.body):null,hr=({isOpen:e,acceptText:t,cancelText:n,onAccept:i,onCancel:o,footer:s,children:c})=>r.createElement(gr,{className:"dialog--1eQi6",isOpen:e,onRequestClose:o},r.createElement("div",null,c),r.createElement("div",{className:"dialog-footer--2hYdr"},s,o&&r.createElement(R,{onClick:o},null!=n?n:"Cancel"),i&&r.createElement(R,{onClick:i},null!=t?t:"Accept"))),Ir=()=>{const e=Ln(yr.GA),t=(0,f.Z)(pr),n=null==t?void 0:t.projectLink,i=r.useCallback((()=>{n&&navigator.clipboard.writeText(n).catch((()=>{}))}),[n]);if(!n)return null;const o=r.createElement(R,{onClick:i},"Copy to Clipboard");return r.createElement(hr,{isOpen:!0,cancelText:"Close",onCancel:e,footer:o},r.createElement("div",{className:"export-link-dialog-link-container--Zas2L"},r.createElement("code",{className:"export-link-dialog-link--7r7uE"},n)))},vr=()=>{switch((0,f.Z)(ur)){default:return null;case"export-project-link":return r.createElement(Ir,null)}},br=document.getElementById("root");i.render(r.createElement(c.W,{backend:a.PD},r.createElement(s.F0,{history:l.Z},r.createElement(o.zt,{store:d.h},r.createElement((()=>r.createElement("div",{className:(0,u.yI)(y.Z["fill-parent"],p.Z["flex-column"])},r.createElement(lr,{className:p.Z["flexitem-fix"]}),r.createElement("div",{className:(0,u.yI)(y.Z["fill-parent"],p.Z["flexitem-shrink"])},r.createElement(Dn,null)),r.createElement(vr,null))),null)))),br)},2550:(e,t,n)=>{"use strict";n.d(t,{J:()=>i,h:()=>o});var r=n(5667);const i=Object.freeze({});function o(e){const{ctrlKey:t,altKey:n,shiftKey:i,metaKey:o}=e;return{ctrlMetaKey:r.f?o:t,altKey:n,shiftKey:i}}},5667:(e,t,n)=>{"use strict";n.d(t,{f:()=>i,t:()=>o});var r=n(1795);const i=/(Mac|iOS|OS\ X)/.test((r.os||"undefined").toString()),o=i?"command":"ctrl"},3871:(e,t,n)=>{"use strict";n.d(t,{t:()=>c,a:()=>a});var r=n(3386),i=n.n(r),o=n(1966),s=n.n(o);function c(e,t="set"){return e.shiftKey&&e.ctrlMetaKey?"remove":e.shiftKey?"append":e.ctrlMetaKey?"toggle":t}function a(e,t,n){switch(n){case"set":return t;case"set-if-unselected":return t.every((t=>-1!==e.indexOf(t)))?e:t;case"append":return i()(e,t);case"remove":return s()(e,t);case"toggle":return s()(e,t).concat(s()(t,e))}return t}},6773:(e,t,n)=>{"use strict";n.d(t,{rC:()=>u,zL:()=>y,Ll:()=>m,xn:()=>g,KQ:()=>h,pc:()=>I,qO:()=>v});var r=n(2222),i=n(8370),o=n(2550),s=n(9203),c=n(7836),a=n(2951),l=n(1556),d=n(8133);const u=(0,a.k)((e=>e.dragMode)),p=(0,a.k)((e=>e.dragCircuitId)),y=(0,a.k)((e=>e.dragStart)),m=(0,a.k)((e=>e.dragEnd)),f=(0,a.k)((e=>{var t;return null!==(t=e.dragModifierKeys)&&void 0!==t?t:o.J})),g=(0,a.k)((0,r.createSelector)(u.local,y.local,m.local,((e,t,n)=>"select"===e&&t&&n?(0,i.Qu)(t,n):null))),h=(0,r.createSelector)(u,c.d4,f,y,m,l.pf,l.Fv,((e,t,n,r,o,s,c)=>{if("move"!==e||!r||!o)return null;let a=c;t.length>0&&(a=s);const l=(0,i.sj)(o,r);return n.ctrlMetaKey||(l.x=Math.round(l.x/a)*a,l.y=Math.round(l.y/a)*a),l})),I=(0,a.k)((e=>{const t=l.Fv.local(e),{dragMode:n,dragEnd:r,dragModifierKeys:i}=e;if("new-joint"!==n||!r||!i)return null;const o=Object.assign({},r);return i.ctrlMetaKey||(o.x=Math.round(o.x/t)*t,o.y=Math.round(o.y/t)*t),o})),v=(0,r.createSelector)(u,m,d.oh,p,s.x,((e,t,n,r,o)=>{var s;if("wire"!==e||!t||!r)return null;const c=n[r];if(!c)return null;for(const e of c){const n=null!==(s=o[e])&&void 0!==s?s:i.Ds,r=Object.keys(n);for(const o of r){const r=n[o],s=(0,i.sj)(t,r);if((0,i.VE)(s)<=6)return{nodeId:e,pinId:o}}}return null}))},1556:(e,t,n)=>{"use strict";n.d(t,{pf:()=>o,Fv:()=>s,ph:()=>c,aj:()=>a});var r=n(8370),i=n(2951);const o=(0,i.k)((()=>50)),s=(0,i.k)((()=>5)),c=(e,t)=>{const n=o(e);return(0,r.R9)(t,n)},a=(e,t)=>{const n=s(e);return(0,r.R9)(t,n)}},2951:(e,t,n)=>{"use strict";n.d(t,{N:()=>i,k:()=>o});var r=n(9963);const i=(0,r.R)("circuitEditorUiDrag"),o=(0,r.e)("circuitEditorUiDrag")},9990:(e,t,n)=>{"use strict";n.d(t,{b:()=>i,u:()=>o});var r=n(9963);const i=(0,r.R)("circuitEditorUiViewport"),o=(0,r.e)("circuitEditorUiViewport")},6222:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});const r="root"},9977:(e,t,n)=>{"use strict";n.d(t,{Nd:()=>i,nR:()=>o,w:()=>s});var r=n(8628);const i=(0,r.b)((e=>Object.keys(e.circuitNamesByCircuitId))),o=(0,r.b)((e=>e.circuitNamesByCircuitId)),s=(0,r.b)(((e,t)=>e.circuitNamesByCircuitId[t]))},8133:(e,t,n)=>{"use strict";n.d(t,{oh:()=>i,U4:()=>o,RW:()=>s});var r=n(8628);const i=(0,r.b)((e=>e.nodeIdsByCircuitId)),o=(0,r.b)(((e,t)=>e.nodeIdsByCircuitId[t])),s=(0,r.b)(((e,t)=>{for(const n of Object.keys(e.nodeIdsByCircuitId))if(-1!==e.nodeIdsByCircuitId[n].indexOf(t))return n;return null}))},8628:(e,t,n)=>{"use strict";n.d(t,{v:()=>i,b:()=>o});var r=n(9963);const i=(0,r.R)("circuits"),o=(0,r.e)("circuits")},2047:(e,t,n)=>{"use strict";n.d(t,{L:()=>i,m:()=>o});var r=n(9963);const i=(0,r.R)("dialog"),o=(0,r.e)("dialog")},5637:(e,t,n)=>{"use strict";n.d(t,{DH:()=>l,PB:()=>d,rl:()=>u,ij:()=>p,Me:()=>y,lZ:()=>m,p:()=>f});var r=n(2628),i=n.n(r),o=n(4908),s=n.n(o),c=n(2222),a=n(3562);const l=(0,a.Z)((e=>e.connectionsById)),d=(0,a.Z)((0,c.createSelector)((e=>e.connectionsById),(e=>Object.keys(e)))),u=(0,a.Z)(((e,t)=>e.connectionsById[t])),p=(0,a.Z)((0,c.createSelector)((e=>e.connectionsById),(e=>i()(e)))),y=(0,a.Z)(((e,t)=>Object.keys(e.connectionsById).filter((n=>e.connectionsById[n].inputPin.nodeId===t)))),m=(0,a.Z)(((e,t)=>Object.keys(e.connectionsById).filter((n=>e.connectionsById[n].outputPin.nodeId===t)))),f=(0,a.Z)(((e,t)=>{const n=y.local(e,t),r=m.local(e,t);return s()([...n,...r])}))},4368:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var r=n(3304),i=n(5213);const o=(e,t)=>{const n=(0,i.og)(e,t);return n?(0,r.yP)(e,n):null}},5213:(e,t,n)=>{"use strict";n.d(t,{Xi:()=>c,Fm:()=>a,KO:()=>l,yX:()=>d,M6:()=>u,og:()=>p,uu:()=>y,uk:()=>m,p2:()=>f});var r=n(2222),i=n(6604),o=n.n(i),s=n(3562);const c=(0,s.Z)((e=>e.nodesById)),a=(0,s.Z)((0,r.createSelector)(c.local,(e=>Object.keys(e)))),l=(0,s.Z)((0,r.createSelector)(c.local,(e=>o()(e,(e=>e.nodeType))))),d=(0,s.Z)(((e,t)=>e.nodesById[t]||null)),u=(0,s.Z)(((e,t)=>{const n=[];for(const r of Object.keys(e.nodesById)){const{nodeType:i}=e.nodesById[r];i===t&&n.push(r)}return n})),p=(0,s.Z)(((e,t)=>{const n=d.local(e,t);return n?n.nodeType:null})),y=(0,s.Z)((0,r.createSelector)((e=>e.nodesById),(e=>o()(e,(e=>e.nodeName))))),m=(0,s.Z)(((e,t)=>{var n;const r=d.local(e,t);return r?null!==(n=r.nodeName)&&void 0!==n?n:t.substr(0,4):null})),f=(0,s.Z)(((e,t)=>{const n=d.local(e,t);return n?n.nodeName:null}))},3065:(e,t,n)=>{"use strict";n.d(t,{k_:()=>a,LK:()=>l,Su:()=>d});var r=n(8133),i=n(1089),o=n(5637),s=n(4368),c=n(5213);const a=(e,t,n)=>{const r=(0,s.m)(e,t);if(!r)return null;const i=r.pins[n];return i?i.direction:null},l=(e,t)=>{const n=(0,o.ij)(e),r=(0,s.m)(e,t);if(!r)return{};let i=[];i=Object.keys(r.pins).filter((e=>"output"===r.pins[e].direction));const c=n.filter((e=>e.outputPin.nodeId===t)),a={};for(const e of i)a[e]=[];for(const e of c){const{outputPin:t,inputPin:n}=e;a[t.pinId].push(n)}return a},d=(e,t)=>{const n=(0,c.og)(e,t);if("pin-input"!==n&&"pin-output"!==n)return[];const o=(0,r.RW)(e,t);if(!o)return[];const s=(0,i.u)(o);return(0,c.M6)(e,s).map((e=>({nodeId:e,pinId:t})))}},3562:(e,t,n)=>{"use strict";n.d(t,{s:()=>i,Z:()=>o});var r=n(9963);const i=(0,r.R)("nodeGraph"),o=(0,r.e)("nodeGraph")},4150:(e,t,n)=>{"use strict";n.d(t,{g:()=>d});var r=n(2222),i=n(6604),o=n.n(i),s=n(8370),c=n(5213),a=n(3304),l=n(1486);const d=(0,r.createSelector)(l.T,a.MW,c.KO,((e,t,n)=>o()(e,((e,r)=>{const i=n[r];if(!i)return s.rG;const o=t[i];return o?(0,s.gQ)(o.visual.hitRect,e):s.rG}))))},9203:(e,t,n)=>{"use strict";n.d(t,{x:()=>a,G:()=>l});var r=n(2222),i=n(8370),o=n(5213),s=n(3304),c=n(1486);const a=(0,r.createSelector)(s.MW,c.T,o.KO,((e,t,n)=>{var r;const o={},s=Object.keys(n);for(const c of s){const s={};o[c]=s;const a=null!==(r=t[c])&&void 0!==r?r:i.Ds,l=n[c];if(!l)continue;const d=e[l];if(!d)continue;const u=Object.keys(d.pins);for(const e of u){const t=d.pins[e],n=(0,i.ZO)(a,t);s[e]=n}}return o})),l=(e,t,n)=>{var r;const o=a(e)[t];return o&&null!==(r=o[n])&&void 0!==r?r:i.Ds}},1486:(e,t,n)=>{"use strict";n.d(t,{T:()=>o,e:()=>s});var r=n(8370),i=n(2179);const o=(0,i.J)((e=>e.nodePositionsById)),s=(0,i.J)(((e,t)=>{var n;return null!==(n=e.nodePositionsById[t])&&void 0!==n?n:r.Ds}))},5393:(e,t,n)=>{"use strict";n.d(t,{qX:()=>f,wR:()=>g,W8:()=>h,II:()=>I,qq:()=>v,oW:()=>b,v5:()=>E});var r=n(4654),i=n.n(r),o=n(4908),s=n.n(o),c=n(8370),a=n(4368),l=n(5637),d=n(2179),u=n(1486),p=n(8133);const y={},m={},f=(e,t)=>{const{outputPin:{nodeId:n,pinId:r}}=e.services.nodeGraph.connectionsById[t],i=(0,a.m)(e,n);if(!i)return c.Ds;const o=(0,u.e)(e,n),s=y[t];if(s&&s.inputNodeDef===i&&s.inputNodePosition.x===o.x&&s.inputNodePosition.y===o.y)return s.outputPosition;let l=c.Ds;i&&i.pins[r]&&(l=i.pins[r]);const d=(0,c.ZO)(o,l);return y[t]={inputNodeDef:i,inputNodePosition:o,outputPosition:d},d},g=(e,t)=>{const{inputPin:{nodeId:n,pinId:r}}=e.services.nodeGraph.connectionsById[t],i=(0,a.m)(e,n);if(!i)return c.Ds;const o=(0,u.e)(e,n),s=m[t];if(s&&s.inputNodeDef===i&&s.inputNodePosition.x===o.x&&s.inputNodePosition.y===o.y)return s.outputPosition;let l=c.Ds;i&&i.pins[r]&&(l=i.pins[r]);const d=(0,c.ZO)(o,l);return m[t]={inputNodeDef:i,inputNodePosition:o,outputPosition:d},d},h=((0,d.J)((e=>Object.keys(e.wireJointPositionsByJointId))),(e,t)=>{const n=(0,p.U4)(e,t),r=i()(n,(t=>(0,l.p)(e,t))),o=i()(r,(t=>v(e,t)));return s()(o)}),I=(0,d.J)((e=>e.wireJointIdsByConnectionId)),v=(0,d.J)(((e,t)=>e.wireJointIdsByConnectionId[t])),b=(0,d.J)(((e,t)=>e.wireJointPositionsByJointId[t])),E=(0,d.J)((e=>e.wireJointPositionsByJointId))},2179:(e,t,n)=>{"use strict";n.d(t,{S:()=>i,J:()=>o});var r=n(9963);const i=(0,r.R)("nodeLayout"),o=(0,r.e)("nodeLayout")},4944:(e,t,n)=>{"use strict";n.d(t,{J:()=>u});var r=n(7294),i=n(9242),o=n(669),s=n.n(o),c=n(8370),a=n(1235);const l=({circuitNodeId:e,circuitNodePath:t,shapePath:n,hitPath:o,elementState:s})=>{const c=(0,i.I0)(),l=r.useCallback((n=>{e&&(n.defaultPrevented||(n.preventDefault(),c((0,a.zN)([...t||[],e]))))}),[e,c,t]),d=p(n,s).map(((e,t)=>r.createElement("path",{key:t,d:e.path,className:"node-select-highlight--stroke node-select-highlight--fill",fill:e.fill,stroke:e.stroke,strokeWidth:e.strokeWidth})));return r.createElement("g",{onClick:l},r.createElement("path",{d:o,fill:"transparent",stroke:"none"}),d)},d=({shapePath:e,hitRect:t})=>{const n=p(e,{}).map(((e,t)=>r.createElement("path",{key:t,d:e.path,className:"node-select-highlight--stroke node-select-highlight--fill",fill:e.fill,stroke:e.stroke,strokeWidth:e.strokeWidth})));return r.createElement("svg",{width:50,height:50,viewBox:`${t.p1.x-5} ${t.p1.y-5} ${t.p2.x-t.p1.x+10} ${t.p2.y-t.p1.y+10}`},n)};function u(e,t){const n=(0,c.NG)(s()(e));return{trayComponent:()=>r.createElement(d,{shapePath:t,hitRect:n}),component:n=>r.createElement(l,Object.assign({shapePath:t,hitPath:e},n)),hitRect:n}}function p(e,t){return(Array.isArray(e)?e:[e]).map((e=>{if("string"==typeof e)return{path:e,fill:"black",stroke:"black",strokeWidth:2};const n="function"==typeof e.fill?e.fill(t||{}):e.fill,r="function"==typeof e.stroke?e.stroke(t||{}):e.stroke,i="function"==typeof e.strokeWidth?e.strokeWidth(t||{}):e.strokeWidth;return{path:e.path,fill:n,stroke:r,strokeWidth:i}}))}},5617:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var r=n(7294);function i(e,t){return{hitRect:e,trayComponent:()=>r.createElement("svg",{width:50,height:50,viewBox:`${e.p1.x-5} ${e.p1.y-5} ${e.p2.x-e.p1.x+10} ${e.p2.y-e.p1.y+10}`},t),component:()=>t}}},1089:(e,t,n)=>{"use strict";function r(e){return"ic-"+e}function i(e){return e.startsWith("ic-")?e.substr(3):null}n.d(t,{u:()=>r,X:()=>i})},2656:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(7294),i=n(9242),o=n(2334),s=n(7165),c=n(1235),a=n(5100),l=n(9220);const d={type:"interaction-momentary",category:"i/o",displayName:"Momentary Switch",elementProduction:"input-momentary",visual:{hitRect:{p1:{x:5,y:5},p2:{x:45,y:45}},component:({circuitNodeId:e,circuitNodePath:t})=>{const n=(0,i.I0)(),d=r.useMemo((()=>[...t||[],null!=e?e:"~~none"]),[t,e]),u=(0,s.Z)((e=>(0,a.O)(e,d))),p=r.useCallback((t=>{e&&(t.defaultPrevented||(t.preventDefault(),n((0,c.zN)(d))))}),[d,e,n]);let y="darkgreen",m="lightgrey";return u&&u.OUT&&(y="lightgreen",m="black"),r.createElement("g",{onClick:p,className:l.Z["node-interaction-toggle"]},r.createElement("rect",{className:"node-select-highlight--stroke node-select-highlight--fill",x:5,y:5,width:40,height:40,stroke:"black",fill:"#AFAFAF",strokeWidth:1}),r.createElement("circle",{cx:25,cy:25,r:17,fill:y}),r.createElement("text",{className:o.Z["text-unselectable"],x:25,y:25,fontSize:".8em",fill:m,textAnchor:"middle",alignmentBaseline:"middle"},"Push"))}},pins:{OUT:{direction:"output",x:45,y:25}}}},114:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(7294),i=n(9242),o=n(2334),s=n(1235),c=n(9220);const a={type:"interaction-toggle",category:"i/o",displayName:"Toggle Switch",elementProduction:"input-toggle",visual:{hitRect:{p1:{x:5,y:5},p2:{x:45,y:45}},component:({circuitNodeId:e,circuitNodePath:t,elementState:n})=>{const a=(0,i.I0)(),l=r.useCallback((n=>{e&&(n.defaultPrevented||(n.preventDefault(),a((0,s.zN)([...t||[],e]))))}),[e,a,t]);let d="darkgreen",u="lightgrey",p="darkred";if(n){const{toggleState:e}=n;e?(d="lightgreen",u="black"):p="red"}return r.createElement("g",{onClick:l,className:c.Z["node-interaction-toggle"]},r.createElement("rect",{className:"node-select-highlight--stroke node-select-highlight--fill",x:5,y:5,width:40,height:40,stroke:"black",fill:"#AFAFAF",strokeWidth:1}),r.createElement("rect",{x:10,y:10,width:30,height:15,strokeWidth:0,fill:d}),r.createElement("text",{className:o.Z["text-unselectable"],x:25,y:19,fontSize:".8em",fill:u,textAnchor:"middle",alignmentBaseline:"middle"},"On"),r.createElement("rect",{x:10,y:25,width:30,height:15,strokeWidth:0,fill:p}),r.createElement("text",{className:o.Z["text-unselectable"],x:25,y:34,fontSize:".8em",fill:"lightgrey",textAnchor:"middle",alignmentBaseline:"middle"},"Off"))}},pins:{OUT:{direction:"output",x:45,y:25}}}},1894:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(7294),i=n(669),o=n.n(i),s=n(8370);const c="M30 5V45H50.47619c11.267908 0 20-9.000045 20-20s-8.732091-20-20-20H30z",a={type:"logic-and",category:"logic",displayName:"AND",elementProduction:"logic-and",visual:(0,n(5617).l)((0,s.NG)(o()(c)),r.createElement("g",null,r.createElement("path",{d:c,fill:"transparent",stroke:"none"}),r.createElement("path",{className:"node-select-highlight--stroke",fill:"none",stroke:"#000",strokeWidth:"2",d:"M70 25h25M31 15H5M32 35H5"}),r.createElement("path",{className:"node-select-highlight--fill",d:"M30 5V45H50.47619c11.267908 0 20-9.000045 20-20s-8.732091-20-20-20H30zm2.857143 2.857143H50.47619c9.760663 0 16.666667 7.639955 16.666667 17.142857 0 9.502902-7.382195 17.142857-17.142857 17.142857H32.857143V7.857143z"}))),pins:{A:{direction:"input",x:0,y:14.5},B:{direction:"input",x:0,y:35},OUT:{direction:"output",x:100,y:25}}}},357:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(7294),i=n(669),o=n.n(i),s=n(8370);const c="M 28.96875,2.59375 L 28.96875,5 L 28.96875,45 L 28.96875,47.40625 L 31.125,46.34375 L 72.15625,26.34375 L 75,25 L 72.15625,23.65625 L 31.125,3.65625 L 28.96875,2.59375 z",a={type:"logic-buffer",category:"logic",displayName:"Buffer",elementProduction:"logic-buffer",visual:(0,n(5617).l)((0,s.NG)(o()(c)),r.createElement("g",null,r.createElement("path",{d:c,fill:"transparent",stroke:"none"}),r.createElement("path",{className:"node-select-highlight--stroke",fill:"none",stroke:"black",strokeWidth:"2",d:"M 72,25 L 95.085706,25"}),r.createElement("path",{className:"node-select-highlight--stroke",fill:"none",stroke:"black",strokeWidth:"2",d:"M 29.043478,25 L 5.0434781,25"}),r.createElement("path",{className:"node-select-highlight--fill",stroke:"none",fill:"black",d:"M 28.96875,2.59375 L 28.96875,5 L 28.96875,45 L 28.96875,47.40625 L 31.125,46.34375 L 72.15625,26.34375 L 75,25 L 72.15625,23.65625 L 31.125,3.65625 L 28.96875,2.59375 z M 31.96875,7.40625 L 68.09375,25 L 31.96875,42.59375 L 31.96875,7.40625 z"}))),pins:{IN:{direction:"input",x:0,y:25},OUT:{direction:"output",x:100,y:25}}}},2074:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7294);const i={type:"logic-nor",category:"logic",displayName:"NOR",elementProduction:"logic-nor",visual:(0,n(5617).l)({p1:{x:24,y:5},p2:{x:80,y:45}},r.createElement("g",null,r.createElement("path",{fill:"transparent",stroke:"none",d:"M24.09375 5l2 2.4375S31.75 14.437549 31.75 25s-5.65625 17.5625-5.65625 17.5625l-2 2.4375H41.25c2.408076.000001 7.689699.024514 13.625-2.40625s12.536536-7.343266 17.6875-16.875L71.25 25l1.3125-.71875C62.259387 5.21559 46.006574 5 41.25 5H24.09375z"}),r.createElement("path",{className:"node-select-highlight--stroke",fill:"none",stroke:"#000",strokeWidth:"2",d:"M79 25h16M31 15H5M32 35H5"}),r.createElement("path",{className:"node-select-highlight--fill",fillRule:"evenodd",d:"M24.09375 5l2 2.4375S31.75 14.437549 31.75 25s-5.65625 17.5625-5.65625 17.5625l-2 2.4375H41.25c2.408076.000001 7.689699.024514 13.625-2.40625s12.536536-7.343266 17.6875-16.875L71.25 25l1.3125-.71875C62.259387 5.21559 46.006574 5 41.25 5H24.09375zm5.875 3H41.25c4.684173 0 18.28685-.130207 27.96875 17C64.451964 33.429075 58.697469 37.68391 53.5 39.8125 48.139339 42.007924 43.658075 42.000001 41.25 42H30c1.873588-3.108434 4.75-9.04935 4.75-17 0-7.973354-2.908531-13.900185-4.78125-17z"}),r.createElement("path",{className:"node-select-highlight--stroke",fill:"none",stroke:"#000",strokeWidth:"3",d:"M79 25a4 4 0 1 1-8 0 4 4 0 1 1 8 0z"}))),pins:{A:{direction:"input",x:0,y:14.5},B:{direction:"input",x:0,y:35},OUT:{direction:"output",x:100,y:25}}}},8061:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7294);const i={type:"logic-not",category:"logic",displayName:"NOT",elementProduction:"logic-not",visual:(0,n(5617).l)({p1:{x:24,y:5},p2:{x:80,y:45}},r.createElement("g",null,r.createElement("path",{fill:"transparent",stroke:"none",d:"M28.96875 2.59375v44.8125l2.15625-1.0625 41.03125-20v-2.6875l-41.03125-20-2.15625-1.0625z"}),r.createElement("path",{className:"node-select-highlight--stroke",fill:"none",stroke:"#000",strokeWidth:"2",d:"M79.15691 25H95M29.043478 25h-24"}),r.createElement("path",{className:"node-select-highlight--fill",d:"M28.96875 2.59375v44.8125l2.15625-1.0625 41.03125-20v-2.6875l-41.03125-20-2.15625-1.0625zm3 4.8125L68.09375 25l-36.125 17.59375V7.40625z"}),r.createElement("path",{className:"node-select-highlight--stroke",fill:"none",stroke:"#000",strokeWidth:"3",d:"M79 25a4 4 0 1 1-8 0 4 4 0 1 1 8 0z"}))),pins:{IN:{direction:"input",x:0,y:25},OUT:{direction:"output",x:100,y:25}}}},6246:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(7294),i=n(669),o=n.n(i),s=n(8370);const c="M24.09375 5l2 2.4375S31.75 14.437549 31.75 25s-5.65625 17.5625-5.65625 17.5625l-2 2.4375H41.25c2.408076.000001 7.689699.024514 13.625-2.40625s12.536536-7.343266 17.6875-16.875L71.25 25l1.3125-.71875C62.259387 5.21559 46.006574 5 41.25 5H24.09375z",a={type:"logic-or",category:"logic",displayName:"OR",elementProduction:"logic-or",visual:(0,n(5617).l)((0,s.NG)(o()(c)),r.createElement("g",null,r.createElement("path",{d:c,fill:"transparent",stroke:"none"}),r.createElement("path",{className:"node-select-highlight--stroke",fill:"none",stroke:"#000",strokeWidth:"2",d:"M70 25h25M31 15H5M32 35H5"}),r.createElement("path",{className:"node-select-highlight--fill",fillRule:"evenodd",d:"M24.09375 5l2 2.4375S31.75 14.437549 31.75 25s-5.65625 17.5625-5.65625 17.5625l-2 2.4375H41.25c2.408076.000001 7.689699.024514 13.625-2.40625s12.536536-7.343266 17.6875-16.875L71.25 25l1.3125-.71875C62.259387 5.21559 46.006574 5 41.25 5H24.09375zm5.875 3H41.25c4.684173 0 18.28685-.130207 27.96875 17C64.451964 33.429075 58.697469 37.68391 53.5 39.8125 48.139339 42.007924 43.658075 42.000001 41.25 42H30c1.873588-3.108434 4.75-9.04935 4.75-17 0-7.973354-2.908531-13.900185-4.78125-17z"}))),pins:{A:{direction:"input",x:0,y:14.5},B:{direction:"input",x:0,y:35},OUT:{direction:"output",x:100,y:25}}}},2356:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(7294),i=n(669),o=n.n(i),s=n(8370);const c="M24.09375 5l2 2.4375S31.75 14.43755 31.75 25s-5.65625 17.5625-5.65625 17.5625l-2 2.4375H41.25c2.40808 0 7.6897.02451 13.625-2.40625s12.53654-7.34327 17.6875-16.875L71.25 25l1.3125-.71875C62.25939 5.21559 46.00657 5 41.25 5H24.09375z",a={type:"logic-xor",category:"logic",displayName:"XOR",elementProduction:"logic-xor",visual:(0,n(5617).l)((0,s.NG)(o()(c)),r.createElement("g",null,r.createElement("path",{d:c,fill:"transparent",stroke:"none"}),r.createElement("path",{className:"node-select-highlight--stroke",fill:"none",stroke:"#000",strokeWidth:"2",d:"M70 25h25M30.38572 15H5M31.3621 35H5"}),r.createElement("g",{fillRule:"evenodd",className:"node-select-highlight--fill"},r.createElement("path",{d:"M24.25 42C22.65263 44.6444 22 45 22 45h-3.65625l2-2.4375S26 35.56245 26 25 20.34375 7.4375 20.34375 7.4375l-2-2.4375H22c.78125.9375 1.42188 1.65625 2.21875 3C26.09147 11.09981 29 17.02665 29 25c0 7.95065-2.8967 13.87942-4.75 17z"}),r.createElement("path",{d:"M24.09375 5l2 2.4375S31.75 14.43755 31.75 25s-5.65625 17.5625-5.65625 17.5625l-2 2.4375H41.25c2.40808 0 7.6897.02451 13.625-2.40625s12.53654-7.34327 17.6875-16.875L71.25 25l1.3125-.71875C62.25939 5.21559 46.00657 5 41.25 5H24.09375zm5.875 3H41.25c4.68417 0 18.28685-.1302 27.96875 17C64.45196 33.42907 58.69747 37.68391 53.5 39.8125 48.13934 42.00792 43.65808 42 41.25 42H30c1.87359-3.10843 4.75-9.04935 4.75-17 0-7.97335-2.90853-13.90019-4.78125-17z"})))),pins:{A:{direction:"input",x:0,y:14.5},B:{direction:"input",x:0,y:35},OUT:{direction:"output",x:100,y:25}}}},2944:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r=`M ${25-20}, 25\n    a 20,20 0 1,0 40,0\n    a 20,20 0 1,0 -40,0`;const i={type:"output-led",category:"i/o",displayName:"Indicator Light",elementProduction:"output-led",visual:(0,n(4944).J)(r,{path:r,stroke:"black",strokeWidth:3,fill:e=>e.value?"lightgreen":"darkgreen"}),pins:{IN:{direction:"input",x:0,y:25}}}},1460:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(4944);const i=[15,0];function o(e,t){const n=t[0];let r=`M${3*n[0]+i[0]},${3*n[1]+i[1]}`;for(const e of t.slice(1)){const[t,n]=e;r+=`L${3*t+i[0]},${3*n+i[1]}`}return r+="z",{path:r,fill:t=>t[e]?"red":"gray",strokeWidth:0}}const s={type:"output-seg7",category:"i/o",displayName:"7-Segment Display",elementProduction:"output-seg7",visual:(0,r.J)("M15,0 V63 H45 V0 z",[o("A",[[1,1],[2,0],[8,0],[9,1],[8,2],[2,2]]),o("B",[[9,1],[10,2],[10,8],[9,9],[8,8],[8,2]]),o("C",[[9,9],[10,10],[10,16],[9,17],[8,16],[8,10]]),o("D",[[9,17],[8,18],[2,18],[1,17],[2,16],[8,16]]),o("E",[[1,17],[0,16],[0,10],[1,9],[2,10],[2,16]]),o("F",[[1,9],[0,8],[0,2],[1,1],[2,2],[2,8]]),o("G",[[1,9],[2,8],[8,8],[9,9],[8,10],[2,10]])]),pins:{A:{direction:"input",x:0,y:5},B:{direction:"input",x:0,y:15},C:{direction:"input",x:0,y:25},D:{direction:"input",x:0,y:35},E:{direction:"input",x:0,y:45},F:{direction:"input",x:0,y:55},G:{direction:"input",x:0,y:65}}}},2554:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(7294),i=n(669),o=n.n(i),s=n(8370);const c="M15,25 a 10,10 0 1,0 20 0 a 10,10 0 1,0 -20,0",a={type:"pin-input",category:"i/o",displayName:"Input Pin",visual:(0,n(5617).l)((0,s.NG)(o()(c)),r.createElement("g",null,r.createElement("path",{d:c,fill:"transparent",stroke:"none"}),r.createElement("path",{className:"node-select-highlight--stroke",d:"M15,25 a 10,10 0 1,0 20 0 a 10,10 0 1,0 -20,0 M35,25 h5",stroke:"black",strokeWidth:2,fill:"none"}))),pins:{OUT:{direction:"output",x:40,y:25}}}},8420:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(7294),i=n(669),o=n.n(i),s=n(8370);const c="M15,25 a 10,10 0 1,0 20 0 a 10,10 0 1,0 -20,0",a={type:"pin-output",category:"i/o",displayName:"Output Pin",visual:(0,n(5617).l)((0,s.NG)(o()(c)),r.createElement("g",null,r.createElement("path",{d:c,fill:"transparent",stroke:"none"}),r.createElement("path",{className:"node-select-highlight--stroke",d:"M15,25 a 10,10 0 1,0 20 0 a 10,10 0 1,0 -20,0 M15,25 h-5",stroke:"black",strokeWidth:2,fill:"none"}))),pins:{IN:{direction:"input",x:10,y:25}}}},3304:(e,t,n)=>{"use strict";n.d(t,{yP:()=>J,MW:()=>D,NJ:()=>R});var r=n(4654),i=n.n(r),o=n(3311),s=n.n(o),c=n(5054),a=n(2222),l=n(9734),d=n.n(l),u=n(8133),p=n(6222),y=n(5213),m=n(1486),f=n(7294),g=n(9242),h=n(669),I=n.n(h),v=n(8370),b=n(6600),E=n(2334),k=n(7165),O=n(3084),N=n(9977),C=n(9181);function x(e,t){return`M10,10 h80 v${50*Math.max(e,t,1)-20} h-80 z`}const j=({circuitNodeId:e,circuitNodePath:t,circuitId:n,inputPinIds:r,outputPinIds:i})=>{const o=(0,g.I0)(),s=(0,C.d5)(),c=(0,k.Z)((e=>(0,N.w)(e,n))),a=(0,k.Z)(y.uu),l=x(r.length,i.length),d=f.useCallback((r=>{e&&(r.defaultPrevented||(r.preventDefault(),o((0,O._A)(n,[...t||[],e],{tesselPath:s}))))}),[e,o,n,t,s]),u=r.map(((e,t)=>{const n=50*t+25;return f.createElement("g",{key:e},f.createElement("line",{className:"node-select-highlight--stroke",stroke:"black",strokeWidth:2,x1:0,y1:n,x2:10,y2:n}),f.createElement("text",{className:E.Z["text-unselectable"],x:15,y:n,alignmentBaseline:"middle",fontSize:".7em"},a[e]))})),p=i.map(((e,t)=>{const n=50*t+25;return f.createElement("g",{key:e},f.createElement("line",{key:t,className:"node-select-highlight--stroke",stroke:"black",strokeWidth:2,x1:90,y1:n,x2:100,y2:n}),f.createElement("text",{className:E.Z["text-unselectable"],x:85,y:n,textAnchor:"end",alignmentBaseline:"middle",fontSize:".7em"},a[e]))}));return f.createElement("g",null,f.createElement("text",{className:(0,b.yI)(E.Z["text-unselectable"],"node-select-highlight--fill"),textAnchor:"middle",x:50,y:0},c),f.createElement("path",{className:"node-select-highlight--stroke node-select-highlight--fill",stroke:"black",fill:"transparent",d:l,onDoubleClick:d}),u,p)},w=()=>f.createElement("g",{stroke:"black",strokeWidth:1},f.createElement("rect",{x:10,y:10,width:30,height:30,fill:"none"}),f.createElement("line",{x1:10,y1:15,x2:5,y2:15}),f.createElement("line",{x1:40,y1:15,x2:45,y2:15}),f.createElement("line",{x1:10,y1:35,x2:5,y2:35}),f.createElement("line",{x1:40,y1:35,x2:45,y2:35}));function P(e,t,n){const r={circuitId:e,inputPinIds:t,outputPinIds:n};return{hitRect:(0,v.NG)(I()(x(t.length,n.length))),trayComponent:e=>f.createElement(w,Object.assign({},r,e)),component:e=>f.createElement(j,Object.assign({},r,e))}}function B(e,t){return{x:"input"===t?0:100,y:50*e+25}}var M=n(1089);const Z=[(0,a.createSelector)(u.oh,y.KO,m.T,N.nR,((e,t,n,r)=>Object.keys(e).filter((e=>e!==p.u)).map((i=>{var o,s;const c=null!==(o=e[i])&&void 0!==o?o:[],a=null!==(s=r[i])&&void 0!==s?s:i.substr(0,5);let l=c.filter((e=>t[e].startsWith("pin-")));l=d()(l,(e=>n[e].y),(e=>n[e].x));const u={},p=[],y=[];for(const e of l){const n=t[e];"pin-input"===n?(u[e]=Object.assign({direction:"input"},B(p.length,"input")),p.push(e)):"pin-output"===n&&(u[e]=Object.assign({direction:"output"},B(y.length,"output")),y.push(e))}return{type:(0,M.u)(i),category:"ic",displayName:a,elementProduction:{type:"circuit",circuitId:i},visual:P(i,p,y),pins:u}})))),n(2656).Z,n(114).Z,n(1894).Z,n(357).Z,n(2074).Z,n(8061).Z,n(6246).Z,n(2356).Z,n(2944).Z,n(1460).Z,n(2554).Z,n(8420).Z];let S=[];const R=e=>{const t=i()(Z,(t=>function(e,t){let n;return n="function"==typeof e?e(t):e,(0,c._2)(n)}(t,e)));return t.every(((e,t)=>e===S[t]))?S:(S=t,t)},D=(0,a.createSelector)(R,(e=>{const t={};for(const n of e)t[n.type]=n;return t})),J=(e,t)=>{var n;const r=R(e);return null!==(n=s()(r,(e=>e.type===t)))&&void 0!==n?n:null}},8473:(e,t,n)=>{"use strict";n.d(t,{_:()=>i,P:()=>o});var r=n(7038);const i=(0,r.G)((e=>e.projectName)),o=(0,r.G)((e=>e.projectModified))},7038:(e,t,n)=>{"use strict";n.d(t,{t:()=>i,G:()=>o});var r=n(9963);const i=(0,r.R)("project"),o=(0,r.e)("project")},7836:(e,t,n)=>{"use strict";n.d(t,{d4:()=>a,CP:()=>l,nG:()=>d,O5:()=>u,g7:()=>p});var r=n(2222),i=n(8718),o=n.n(i),s=n(5213),c=n(9286);const a=(0,c.m)((e=>e.selectedNodeIds)),l=(0,c.m)(((e,t)=>-1!==e.selectedNodeIds.indexOf(t))),d=((0,r.createSelector)(s.Xi,a,((e,t)=>o()(e,t))),(0,c.m)((e=>e.selectedConnectionIds)),(0,c.m)(((e,t)=>-1!==e.selectedConnectionIds.indexOf(t)))),u=(0,c.m)((e=>e.selectedJointIds)),p=(0,c.m)(((e,t)=>-1!==e.selectedJointIds.indexOf(t)))},9286:(e,t,n)=>{"use strict";n.d(t,{V:()=>i,m:()=>o});var r=n(9963);const i=(0,r.R)("selection"),o=(0,r.e)("selection")},9963:(e,t,n)=>{"use strict";n.d(t,{R:()=>o,e:()=>s});var r=n(6949),i=n(6600);function o(e){return t=>(n=r._,o)=>{const s=t(n.services[e],o,n);return n.services[e]!=s?(0,i.cA)(n,"services",e,s):n}}function s(e){return t=>{const n=(n,...r)=>t(n.services[e],...r);return n.local=t,n}}},2619:(e,t,n)=>{"use strict";n.d(t,{D7:()=>i,yU:()=>o,Ro:()=>s,bg:()=>c});var r=n(4389);const i=(0,r.x)((e=>"edit"!==e.mode)),o=(0,r.x)((e=>"run"===e.mode)),s=(0,r.x)((e=>"pause"===e.mode)),c=(0,r.x)((e=>e.ticksPerSecond))},4389:(e,t,n)=>{"use strict";n.d(t,{G:()=>i,x:()=>o});var r=n(9963);const i=(0,r.R)("simulatorControl"),o=(0,r.e)("simulatorControl")},1755:(e,t,n)=>{"use strict";n.d(t,{Ac:()=>a,OF:()=>l,F9:()=>d});var r=n(4654),i=n.n(r),o=n(7361),s=n.n(o),c=n(9963);const a=(0,c.R)("simulatorGraph"),l=(0,c.e)("simulatorGraph");function d(e,t){const n=i()(t,(e=>[e,"subCircuitIds"]));n.pop();const r=s()(e,n);if(!r)return null;const{simulatorNodeId:o}=r;return null!=o?o:null}},5100:(e,t,n)=>{"use strict";n.d(t,{R:()=>i,O:()=>o});var r=n(1755);const i=(e,t)=>{const n=e.services.simulatorGraph.simulatorNodeIdsByCircuitNodeId,i=e.services.simulator.nodeStatesByNodeId,o=(0,r.F9)(n,t);if(o)return i[o]},o=(e,t)=>{const n=e.services.simulatorGraph.simulatorNodeIdsByCircuitNodeId,i=e.services.simulator.nodeOutputValuesByNodeId,o=(0,r.F9)(n,t);if(o)return i[o]}},6036:(e,t,n)=>{"use strict";n.d(t,{X:()=>i,g:()=>o});var r=n(9963);const i=(0,r.R)("simulator"),o=(0,r.e)("simulator")},5908:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i,M:()=>o});var r=n(9963);const i=(0,r.R)("uiLayout"),o=(0,r.e)("uiLayout")},4199:(e,t,n)=>{"use strict";n.d(t,{K:()=>i,s:()=>o});var r=n(9963);const i=(0,r.R)("uiSettings"),o=(0,r.e)("uiSettings")},6949:(e,t,n)=>{"use strict";n.d(t,{_:()=>P,h:()=>ui});const r=Object.freeze({dragMode:null,dragCircuitId:null,dragModifierKeys:null,dragStart:null,dragEnd:null,dragNewJointConnectionId:null,dragNewJointAfterJointId:null,dragWireSource:null}),i=Object.freeze({viewScale:1});var o=n(6222);const s={circuitNamesByCircuitId:{[o.u]:"Root"},nodeIdsByCircuitId:{[o.u]:[]}},c=Object.freeze(s);var a=n(8370);const l=Object.freeze({clipboardNodes:[],clipboardPasteOrigin:a.Ds}),d=Object.freeze({dialogType:null,data:null}),u=Object.freeze({nodesById:{},connectionsById:{}}),p=Object.freeze({nodePositionsById:{},wireJointIdsByConnectionId:{},wireJointPositionsByJointId:{}}),y=Object.freeze({projectName:"New Project",projectModified:!1}),m=Object.freeze({selectedNodeIds:[],selectedConnectionIds:[],selectedJointIds:[]}),f=Object.freeze({tick:0,lastTickProcessingTimeMs:0,nodeStatesByNodeId:{},nodeOutputValuesByNodeId:{},transitionsById:{},transitionWindows:[]}),g=Object.freeze({mode:"edit",ticksPerSecond:1e3}),h=Object.freeze({simulatorNodesById:{},simulatorNodeIdsByCircuitNodeId:{}});var I=n(6192);const v="circuit-field",b=(e,t)=>({windowId:v,windowProps:{circuitId:e,circuitNodeIdPath:t}});function E(e){return"string"!=typeof e&&!!(0,I.wq)(e)&&e.windowId===v}const k={layout:{direction:"row",division:{firstSize:200},first:{direction:"column",division:30,first:"circuits-list",second:"node-tray"},second:b(o.u,[])}},O=Object.freeze(k),N=Object.freeze({nodeNameMode:"named-only"}),C={circuitEditorUiDrag:r,circuitEditorUiViewport:i,nodeGraph:u,nodeLayout:p,circuits:c,clipboard:l,dialog:d,project:y,selection:m,simulator:f,simulatorControl:g,simulatorGraph:h,uiLayout:O,uiSettings:N},x=Object.freeze(C),j=["circuitEditorUiViewport","circuits","nodeGraph","nodeLayout"],w={services:x,undo:Object.freeze({undoStack:[],redoStack:[]})},P=Object.freeze(w);var B=n(4890),M=(n(2729),n(7172)),Z=n(6600);const S=new URL(window.location.origin);S.pathname=n.p;const R=S.toString(),D="@init";var J=n(7252),T=n(5984),L=n(1314),A=n(5273),W=n(5054);const z="@node/delete";function U(e){return e.type===z}var F=n(4443),q=n(5409),G=n(2165);const _="@selection/move";var H=n(4586);const K="@wire/attach",V=(e,t,n)=>({type:K,payload:{connectionId:(0,H.Z)(),p1:e,p2:t,joints:(null==n?void 0:n.joints)||[]}});function X(e){return e.type===K}const $="@wire/detatch";function Q(e){return e.type===$}const Y="@wire/joint/add",ee="@wire/joint/move",te=(e,t,n={})=>{var r,i;return{type:ee,payload:{jointIds:(0,W._2)(e),position:t,relative:null!==(r=n.relative)&&void 0!==r&&r,snapMode:null!==(i=n.snapMode)&&void 0!==i?i:"none"}}},ne="@wire/joint/delete";var re=n(5621),ie=n(4),oe=n(3634),se=n(5758),ce=n(38);const ae="@project/receive",le=(e,t)=>({type:ae,payload:{fileName:e,saveData:t}}),de=[J.q6,T.JP,L.QM,A.dd,z,F.XT,q.R9,G.XE,_,K,$,Y,ne,ee,oe.Um,se.Nz,re.Fb,ie.cN];function ue(e){return-1!==de.indexOf(e.type)}ce.Ny;var pe=n(8718),ye=n.n(pe);function me(e){return ye()(e.services,j)}var fe=n(928),ge=n.n(fe);var he=n(8177),Ie=n(1387),ve=n(152),be=n(4882);const Ee=[he.NQ,Ie.Cq,ee,ve.rZ,be.Sh];var ke=n(4970),Oe=n(8764),Ne=n(8424),Ce=n(4875);const xe="@dialog/show";var je=n(5222);const we="@dialog/response/cancel";function*Pe(e,t){yield(0,ke.gz)(((e,t)=>({type:xe,payload:{dialogType:e,data:t}}))(e,t));const n=yield(0,ke.qn)([je.pR,we]);return n.type===je.pR?n.payload.result:null}var Be=n(4505),Me=n(7516);const Ze=Me.Ry().shape({nodeId:Me.Z_().required().min(1),pinId:Me.Z_().required().min(1)});function Se(e,t){return e.nodeId===t.nodeId&&e.pinId===t.pinId}const Re=Me.Ry().shape({circuitId:Me.Z_().required().min(1),circuitName:Me.Z_().required().min(1)}),De=Me.Ry().shape({nodeId:Me.Z_().required().min(1),nodeType:Me.Z_().required().min(1),nodeName:Me.Z_().nullable().min(1),circuitId:Me.Z_().required().min(1),x:Me.Rx().required(),y:Me.Rx().required()}),Je=Me.Ry().shape({output:Ze.required(),input:Ze.required(),joints:Me.IX().of(a.tQ)}),Te=Me.Ry().shape({circuits:Me.IX().of(Re).min(0),nodes:Me.IX().of(De).min(0),wires:Me.IX().of(Je).min(0)});var Le=n(9734),Ae=n.n(Le);function We(...e){return[].concat(...e)}var ze=n(2951);const Ue=(0,ze.N)(((e,t)=>{if(!(0,he.Xm)(t))return e;const{dragPos:n,modifierKeys:r}=t.payload;return Object.assign(Object.assign({},e),{dragEnd:n,dragModifierKeys:r})}));var Fe=n(3871);const qe="@select/region";var Ge=n(1556),_e=n(6773),He=n(713),Ke=n(2571),Ve=n(7836),Xe=n(1883);const $e=(0,ze.N)(((e,t)=>{if(!(0,Xe.xl)(t))return e;const{connectionId:n,addAfterJointId:r,modifierKeys:i,x:o,y:s}=t.payload;return Object.assign(Object.assign({},e),{dragMode:"new-joint",dragStart:{x:o,y:s},dragNewJointConnectionId:n,dragNewJointAfterJointId:r,dragModifierKeys:i})}));var Qe=n(8198),Ye=n(4662),et=n(853);const tt=(0,ze.N)(((e,t)=>{if(!(0,et.dx)(t))return e;const{x:n,y:r,circuitId:i}=t.payload;return Object.assign(Object.assign({},e),{dragMode:"select",dragCircuitId:i,dragStart:{x:n,y:r}})}));var nt=n(4206),rt=n(8133);const it=We(Ue,(function(e=P,t){if(!(0,ie.$V)(t))return e;const{x:n,y:r,modifierKeys:i}=t.payload,{dragMode:o,dragStart:s,dragCircuitId:c,dragNewJointAfterJointId:l,dragNewJointConnectionId:d,dragWireSource:u}=e.services.circuitEditorUiDrag;switch(o){case"select":if(s&&c){const t=(0,Fe.t)(i),o=(0,a.Qu)(s,{x:n,y:r});e=Lr(e,((e,t,n="set")=>({type:qe,payload:{region:e,circuitId:t,mode:n}}))(o,c,t))}break;case"move":if(s){let t=(0,a.sj)({x:n,y:r},s);const o=e.services.selection.selectedNodeIds.length>0;i.ctrlMetaKey||(t=o?(0,Ge.ph)(e,t):(0,Ge.aj)(e,t)),e=Lr(e,((e,t,n={})=>{var r;return{type:_,payload:{offsetX:e,offsetY:t,snapMode:null!==(r=n.snapMode)&&void 0!==r?r:"none"}}})(t.x,t.y))}break;case"new-joint":{const t=(0,Ge.aj)(e,{x:n,y:r});e=Lr(e,((e,t,n,r)=>({type:Y,payload:{connectionId:e,jointId:(0,H.Z)(),addAfterJointId:t,position:n}}))(d,l,t));break}case"wire":{const t=(0,Z.cA)(e,"services","circuitEditorUiDrag","dragEnd",{x:n,y:r}),i=(0,_e.qO)(t);u&&i&&(e=Lr(e,V(u,i)));break}}return(0,Z.cA)(e,"services","circuitEditorUiDrag",(e=>Object.assign(Object.assign({},e),{dragMode:null,dragCircuitId:null,dragModifierKeys:null,dragStart:null,dragEnd:null,dragNewNodeType:null,dragWireSource:null})))}),(function(e=P,t){if(!(0,He.Vl)(t))return e;const{jointId:n,x:r,y:i,modifierKeys:o}=t.payload;if(e=(0,Z.cA)(e,"services","circuitEditorUiDrag",(e=>Object.assign(Object.assign({},e),{dragMode:"move",dragStart:{x:r,y:i}}))),!(0,Ve.g7)(e,n)){const t=(0,Fe.t)(o);e=Lr(e,(0,Ke.a2)(n,t))}return e}),$e,(function(e=P,t){if(!(0,Qe.KH)(t))return e;const{nodeId:n,x:r,y:i,modifierKeys:o}=t.payload;if(e=(0,Z.cA)(e,"services","circuitEditorUiDrag",(e=>Object.assign(Object.assign({},e),{dragMode:"move",dragStart:{x:r,y:i}}))),!(0,Ve.CP)(e,n)){const t=(0,Fe.t)(o);e=Lr(e,(0,Ye.lF)(n,t))}return e}),tt,(0,ze.N)(((e,t,n)=>{if(!(0,nt.Zr)(t))return e;const{dragStart:r,pin:i}=t.payload,o=function(e,t){const n=(0,rt.oh)(t);for(const t of Object.keys(n))if(-1!==n[t].indexOf(e))return t;return null}(i.nodeId,n);return o?Object.assign(Object.assign({},e),{dragMode:"wire",dragCircuitId:o,dragStart:r,dragWireSource:i}):e})),(0,ze.N)(((e,t)=>(0,Ie.hG)(t)?null==e.dragMode?e:Object.assign(Object.assign({},e),{dragEnd:null}):e)));var ot=n(9990);const st=We((0,ot.b)(((e,t)=>{if(!(0,J.U_)(t))return e;const{circuitId:n,edit:r}=t.payload;return r?Object.assign(Object.assign({},e),{editingCircuitId:n}):e})),(0,ot.b)(((e,t)=>{if(!(0,be.UO)(t))return e;const{viewScale:n}=e,{delta:r}=t.payload;return Object.assign(Object.assign({},e),{viewScale:r>0?n*r*1.03:n/(1.03*-r)})})));var ct=n(8628);const at=(0,ct.v)(((e,t)=>{if(!(0,J.U_)(t))return e;const n=t.payload.circuitId;let r=t.payload.circuitName;return r||(r="Circuit "+(Object.keys(e.circuitNamesByCircuitId).length+1)),Object.assign(Object.assign({},e),{circuitNamesByCircuitId:Object.assign(Object.assign({},e.circuitNamesByCircuitId),{[n]:r}),nodeIdsByCircuitId:Object.assign(Object.assign({},e.nodeIdsByCircuitId),{[n]:[]})})}));var lt=n(6604),dt=n.n(lt),ut=n(1966),pt=n.n(ut),yt=n(5213),mt=n(1089);const ft=(0,ct.v)(((e,t,n)=>{if(!(0,T.Q$)(t))return e;const{circuitId:r}=t.payload,i=Object.keys(e.circuitNamesByCircuitId).filter((e=>e!==r)),o=(0,yt.M6)(n,(0,mt.u)(r));let s=ye()(e.nodeIdsByCircuitId,i);return s=dt()(s,(e=>pt()(e,o))),Object.assign(Object.assign({},e),{nodeIdsByCircuitId:s,circuitNamesByCircuitId:ye()(e.circuitNamesByCircuitId,i)})})),gt=(0,ct.v)(((e,t)=>{if(!(0,L.lp)(t))return e;const{circuitId:n,circuitName:r}=t.payload,i=r.trim();return""===i?e:Object.assign(Object.assign({},e),{circuitNamesByCircuitId:Object.assign(Object.assign({},e.circuitNamesByCircuitId),{[n]:i})})})),ht=(0,ct.v)(((e,t)=>{if(!(0,A.g0)(t))return e;const{nodeId:n,circuitId:r}=t.payload,i=r;return Object.assign(Object.assign({},e),{nodeIdsByCircuitId:Object.assign(Object.assign({},e.nodeIdsByCircuitId),{[i]:[...e.nodeIdsByCircuitId[i],n]})})})),It=(0,ct.v)(((e,t)=>{if(!U(t))return e;const{nodeIds:n}=t.payload;return Object.assign(Object.assign({},e),{nodeIdsByCircuitId:dt()(e.nodeIdsByCircuitId,(e=>e.filter((e=>-1===n.indexOf(e)))))})})),vt=We(at,ft,gt,ht,It,(0,ct.v)(((e,t)=>(0,ce.Tp)(t)?Object.assign(Object.assign({},e),{circuitNamesByCircuitId:{[o.u]:"Root"},nodeIdsByCircuitId:{[o.u]:[]}}):e)));var bt=n(5161),Et=n.n(bt),kt=n(998),Ot=n.n(kt),Nt=n(7287),Ct=n.n(Nt);const xt="@clipboard/copy";var jt=n(3065),wt=n(1486),Pt=n(9963);const Bt=(0,Pt.R)("clipboard"),Mt=((0,Pt.e)("clipboard"),Bt(((e,t,n)=>{if(!function(e){return e.type===xt}(t))return e;const{nodeIds:r}=t.payload;if(0===r.length)return e;const i=(0,wt.T)(n),o=Ct()(r,Et()(r,(()=>(0,H.Z)()))),s=i[r[0]],c=r.map((e=>{const t=(0,yt.yX)(n,e),c=(0,jt.LK)(n,e);return{id:o[e],nodeType:t.nodeType,offset:(0,a.sj)(i[e],s),outputs:dt()(c,(e=>e.filter((e=>{return t=e.nodeId,-1!==Ot()(r,(e=>e===t));var t})).map((e=>({nodeId:o[e.nodeId],pinId:e.pinId})))))}}));return Object.assign(Object.assign({},e),{clipboardNodes:c,clipboardPasteOrigin:s})})));var Zt=n(2628),St=n.n(Zt);const Rt=We(Mt,(function(e=P,t){if(!(0,re.Ff)(t))return e;const{targetCircuitId:n}=t.payload,{clipboardNodes:r,clipboardPasteOrigin:i}=e.services.clipboard,o=(0,Ge.pf)(e),s=(0,a.ZO)(i,{x:o,y:o}),c=Ct()(r.map((e=>e.id)),Et()(r,(()=>(0,H.Z)())));for(const t of r){const{id:r,nodeType:i,offset:o}=t,l=(0,a.ZO)(s,o);e=Lr(e,(0,A.gz)(i,n,l,{nodeId:c[r]}))}for(const t of r){const{id:n,outputs:r}=t,i=c[n];for(const t of Object.keys(r))for(const n of r[t]){const{nodeId:r,pinId:o}=n,s=c[r];e=Lr(e,V({nodeId:i,pinId:t},{nodeId:s,pinId:o}))}}return e=(0,Z.cA)(e,"services","clipboard","clipboardPasteOrigin",s),Lr(e,(0,Ye.lF)(St()(c)))}));var Dt=n(2047);const Jt=We((0,Dt.L)(((e,t)=>(0,je.W2)(t)?d:e)),(0,Dt.L)(((e,t)=>function(e){return e.type===we}(t)?d:e)),(0,Dt.L)(((e,t)=>{if(!function(e){return e.type===xe}(t))return e;const{dialogType:n,data:r}=t.payload;return Object.assign(Object.assign({},e),{dialogType:n,data:r})})));function Tt(e,t){return t.weight=e,t}function Lt(e){var t;return(null!==(t=e.weight)&&void 0!==t?t:0)-1}var At=n(3562),Wt=n(5937),zt=n.n(Wt),Ut=n(4654),Ft=n.n(Ut);function qt(e,t,n){const r=pt()(Object.keys(e.nodesById),t),i=Ft()(t,(e=>(0,jt.Su)(n,e)));return Object.assign(Object.assign({},e),{nodesById:ye()(e.nodesById,r),connectionsById:zt()(e.connectionsById,(function({inputPin:e,outputPin:n}){return-1===t.indexOf(e.nodeId)&&-1===t.indexOf(n.nodeId)&&!i.some((t=>Se(t,e)||Se(t,n)))}))})}const Gt=Tt(Lt(ft),(0,At.s)(((e,t,n)=>{if(!(0,T.Q$)(t))return e;const{circuitId:r}=t.payload;return qt(e,[...(0,rt.U4)(n,r),...(0,yt.M6)(n,(0,mt.u)(r))],n)}))),_t=Tt(-10,(0,At.s)(((e,t)=>{if(!(0,A.g0)(t))return e;const{nodeId:n,nodeType:r,nodeName:i}=t.payload;return Object.assign(Object.assign({},e),{nodesById:Object.assign(Object.assign({},e.nodesById),{[n]:{nodeType:r,nodeName:null!=i?i:null}})})}))),Ht=Tt(Lt(It),(0,At.s)(((e,t,n)=>{if(!U(t))return e;const{nodeIds:r}=t.payload;return qt(e,r,n)}))),Kt=(0,At.s)(((e,t)=>{if(!(0,F.HH)(t))return e;const{nodeId:n}=t.payload;if(!e.nodesById[n])return e;let r=t.payload.nodeName;return r||""!==r.trim()||(r=null),Object.assign(Object.assign({},e),{nodesById:Object.assign(Object.assign({},e.nodesById),{[n]:Object.assign(Object.assign({},e.nodesById[n]),{nodeName:r})})})})),Vt=(0,At.s)(((e,t)=>(0,ce.Tp)(t)?u:e));var Xt=n(3311),$t=n.n(Xt),Qt=n(3304);const Yt=We(Gt,_t,Vt,Ht,Kt,(0,At.s)(((e,t,n)=>{if(!X(t))return e;const{connectionId:r,p1:i,p2:o}=t.payload,s=function(e,t,n,r){const i=e.nodesById[t.nodeId],o=e.nodesById[n.nodeId];if(!i||!o)return null;const s=(0,Qt.yP)(r,i.nodeType),c=(0,Qt.yP)(r,o.nodeType);if(!s||!c)return null;const a=s.pins[t.pinId],l=c.pins[n.pinId];if(!a||!l)return null;if(a.direction===l.direction)return null;return{outputPin:"output"===a.direction?t:n,inputPin:"input"===a.direction?t:n}}(e,i,o,n);if(!s)return e;const{inputPin:c}=s;return $t()(e.connectionsById,(e=>Se(e.inputPin,c)))?e:Object.assign(Object.assign({},e),{connectionsById:Object.assign(Object.assign({},e.connectionsById),{[r]:Object.assign({id:r},s)})})})),(0,At.s)(((e,t)=>{if(!Q(t))return e;const{connectionId:n}=t.payload,r=Object.keys(e.connectionsById).filter((e=>e!==n));return Object.assign(Object.assign({},e),{connectionsById:ye()(e.connectionsById,r)})})));var en=n(2179),tn=n(5637);function nn(e,t,n){const r=t.reduce(((e,t)=>{const r=(0,tn.Me)(n,t),i=(0,tn.lZ)(n,t);return e.push(...r,...i),e}),[]),i=Ft()(t,(e=>(0,jt.Su)(n,e))),o=(0,tn.DH)(n),s=Object.keys(o).filter((e=>{const{inputPin:t,outputPin:n}=o[e];return i.some((e=>Se(e,t)||Se(e,n)))})),c=[...r,...s].reduce(((t,n)=>(t.push(...e.wireJointIdsByConnectionId[n]),t)),[]),a=pt()(Object.keys(e.wireJointIdsByConnectionId),r),l=pt()(Object.keys(e.wireJointPositionsByJointId),c),d=pt()(Object.keys(e.nodePositionsById),t);return Object.assign(Object.assign({},e),{nodePositionsById:ye()(e.nodePositionsById,d),wireJointIdsByConnectionId:ye()(e.wireJointIdsByConnectionId,a),wireJointPositionsByJointId:ye()(e.wireJointPositionsByJointId,l)})}const rn=Tt(Lt(Gt),(0,en.S)(((e,t,n)=>{if(!(0,T.Q$)(t))return e;const{circuitId:r}=t.payload;return e=nn(e,(0,rt.U4)(n,r),n),nn(e,(0,yt.M6)(n,(0,mt.u)(r)),n)}))),on=(0,en.S)(((e,t)=>{if(!(0,A.g0)(t))return e;const{nodeId:n,position:r=a.Ds}=t.payload;return(0,Z.cA)(e,"nodePositionsById",n,r)})),sn=Tt(Lt(Ht),(0,en.S)(((e,t,n)=>{if(!U(t))return e;const{nodeIds:r}=t.payload;return nn(e,r,n)}))),cn="@node/move",an=(e,t,n={})=>{var r,i;return{type:cn,payload:{nodeIds:(0,W._2)(e),position:t,relative:null!==(r=n.relative)&&void 0!==r&&r,snapMode:null!==(i=n.snapMode)&&void 0!==i?i:"none"}}},ln=(0,en.S)(((e,t,n)=>{if(!function(e){return e.type===cn}(t))return e;const{nodeIds:r,position:i,relative:o,snapMode:s}=t.payload,c=dt()(ye()(e.nodePositionsById,r),(e=>{let t={x:o?e.x+i.x:i.x,y:o?e.y+i.y:i.y};return"node"===s&&(t=(0,Ge.ph)(n,t)),t}));return Object.assign(Object.assign({},e),{nodePositionsById:Object.assign(Object.assign({},e.nodePositionsById),c)})})),dn=We(rn,on,(0,en.S)(((e,t)=>(0,ce.Tp)(t)?p:e)),sn,ln,(0,en.S)(((e,t)=>{if(!X(t))return e;const{connectionId:n,joints:r}=t.payload;if(r.length>0){const t=r.map((()=>(0,H.Z)()));e=(0,Z.cA)(e,"wireJointIdsByConnectionId",n,t),e=(0,Z.cA)(e,"wireJointPositionsByJointId",(e=>Object.assign(Object.assign({},e),Ct()(t,r))))}else e=(0,Z.cA)(e,"wireJointIdsByConnectionId",n,[]);return e})),(0,en.S)(((e,t)=>{if(!Q(t))return e;const{connectionId:n}=t.payload,r=Object.keys(e.wireJointIdsByConnectionId).filter((e=>e!=n)),i=pt()(Object.keys(e.wireJointPositionsByJointId),e.wireJointIdsByConnectionId[n]);return Object.assign(Object.assign({},e),{wireJointIdsByConnectionId:ye()(e.wireJointIdsByConnectionId,r),wireJointPositionsByJointId:ye()(e.wireJointPositionsByJointId,i)})})),(0,en.S)(((e,t)=>{if(!function(e){return e.type===Y}(t))return e;const{connectionId:n,addAfterJointId:r,position:i,jointId:o}=t.payload;let s=e.wireJointIdsByConnectionId[n];const c=r?s.indexOf(r)+1:0;return s=[...s.slice(0,c),o,...s.slice(c)],Object.assign(Object.assign({},e),{wireJointIdsByConnectionId:Object.assign(Object.assign({},e.wireJointIdsByConnectionId),{[n]:s}),wireJointPositionsByJointId:Object.assign(Object.assign({},e.wireJointPositionsByJointId),{[o]:i})})})),(0,en.S)(((e,t)=>{if(!function(e){return e.type===ne}(t))return e;const{jointId:n}=t.payload,r=Object.keys(e.wireJointPositionsByJointId).filter((e=>e!==n));return Object.assign(Object.assign({},e),{wireJointIdsByConnectionId:dt()(e.wireJointIdsByConnectionId,(e=>e.filter((e=>e!==n)))),wireJointPositionsByJointId:ye()(e.wireJointPositionsByJointId,r)})})),(0,en.S)(((e,t,n)=>{if(!function(e){return e.type===ee}(t))return e;const{jointIds:r,position:i,relative:o,snapMode:s}=t.payload,c=dt()(ye()(e.wireJointPositionsByJointId,r),(e=>{let t={x:o?e.x+i.x:i.x,y:o?e.y+i.y:i.y};return"node"===s?t=(0,Ge.ph)(n,t):"joint"===s&&(t=(0,Ge.aj)(n,t)),t}));return Object.assign(Object.assign({},e),{wireJointPositionsByJointId:Object.assign(Object.assign({},e.wireJointPositionsByJointId),c)})}))),un=Tt(50,((e=P,t)=>{return ue(t)?(n=Wr(e),localStorage.setItem("autosave",JSON.stringify(n)),e):e;var n}));var pn=n(7038);const yn=(0,pn.t)(((e,t)=>ue(t)?Object.assign(Object.assign({},e),{projectModified:!0}):e)),mn=(0,pn.t)(((e,t)=>(0,ce.Tp)(t)?(localStorage.removeItem("autosave"),Object.assign(Object.assign({},e),{projectName:"New Project",projectModified:!1})):e)),fn="@project/rename",gn=(0,pn.t)(((e,t)=>{if(!function(e){return e.type===fn}(t))return e;let{projectName:n}=t.payload;return n=n.trim(),""===n?e:Object.assign(Object.assign({},e),{projectName:n})}));var hn=n(3069);const In=We(un,(function(e=P,t){if(!function(e){return e.type===D}(t))return e;const n=function(){const e=localStorage.getItem("autosave");if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}();if(!n)return e;try{e=zr(e,n),e=(0,Z.cA)(e,"services","project",(e=>Object.assign(Object.assign({},e),{projectName:"Previous Project",projectModified:!0})))}catch(e){}return e}),yn,mn,(function(e=P,t){if(!function(e){return e.type===ae}(t))return e;const{fileName:n,saveData:r}=t.payload;try{e=zr(e,r),e=(0,Z.cA)(e,"services","project",(e=>Object.assign(Object.assign({},e),{projectName:n,projectModified:!1})))}catch(e){console.error("Failed to load save",e)}return e}),gn,(0,pn.t)(((e,t)=>(0,hn.hR)(t)?Object.assign(Object.assign({},e),{projectModified:!1}):e)));var vn=n(9286);const bn=(0,vn.V)(((e,t)=>{if(!U(t))return e;const{nodeIds:n}=t.payload;return Object.assign(Object.assign({},e),{selectedNodeIds:pt()(e.selectedNodeIds,n),selectedConnectionIds:[]})})),En=(0,vn.V)(((e,t)=>(0,ce.Tp)(t)?m:e));var kn=n(5564),On=n.n(kn),Nn=n(7243),Cn=n(5393);const xn=(0,vn.V)(((e,t,n)=>{if(!(0,Nn.ov)(t))return e;const{circuitId:r}=t.payload,i=(0,rt.U4)(n,r);let o=(0,tn.PB)(n);const s=(0,tn.DH)(n);o=o.filter((e=>{const{inputPin:t,outputPin:n}=s[e];return-1!==i.indexOf(t.nodeId)&&-1!==i.indexOf(n.nodeId)}));const c=(0,Cn.II)(n),a=On()(o.map((e=>c[e])));return Object.assign(Object.assign({},e),{selectedNodeIds:i,selectedConnectionIds:o,selectedJointIds:a})}));var jn=n(1578);const wn=(0,vn.V)(((e,t)=>(0,jn.CH)(t)?Object.assign(Object.assign({},e),{selectedNodeIds:[],selectedConnectionIds:[],selectedJointIds:[]}):e)),Pn=(0,vn.V)(((e,t)=>{if(!(0,Ke.p6)(t))return e;const{jointIds:n,mode:r}=t.payload;return Object.assign(Object.assign({},e),{selectedNodeIds:"set"===r?[]:e.selectedNodeIds,selectedConnectionIds:"set"===r?[]:e.selectedConnectionIds,selectedJointIds:(0,Fe.a)(e.selectedJointIds,n,r)})})),Bn=(0,vn.V)(((e,t)=>{if(!(0,Ye.xW)(t))return e;const{nodeIds:n,mode:r}=t.payload;return Object.assign(Object.assign({},e),{selectedNodeIds:(0,Fe.a)(e.selectedNodeIds,n,r),selectedConnectionIds:"set"===r?[]:e.selectedConnectionIds,selectedJointIds:"set"===r?[]:e.selectedJointIds})}));var Mn=n(2525),Zn=n.n(Mn),Sn=n(4150);const Rn=(0,vn.V)(((e,t,n)=>{if(!function(e){return e.type===qe}(t))return e;const{region:r,circuitId:i,mode:o}=t.payload,s=(0,rt.U4)(n,i),c=ye()((0,Sn.g)(n),s),l=[];Zn()(c,((e,t)=>{(0,a.kK)(e,r)&&l.push(t)}));const d=(0,Cn.v5)(n),u=(0,Cn.W8)(n,i).filter((e=>{const t=d[e];return(0,a.PL)(t,r)}));return Object.assign(Object.assign({},e),{selectedNodeIds:(0,Fe.a)(e.selectedNodeIds,l,o),selectedConnectionIds:"set"===o?[]:e.selectedConnectionIds,selectedJointIds:(0,Fe.a)(e.selectedJointIds,u,o)})}));var Dn=n(4691);const Jn=(0,vn.V)(((e,t)=>{if(!(0,Dn.GT)(t))return e;const{connectionIds:n,mode:r}=t.payload;return Object.assign(Object.assign({},e),{selectedNodeIds:"set"===r?[]:e.selectedNodeIds,selectedConnectionIds:(0,Fe.a)(e.selectedConnectionIds,n,r),selectedJointIds:"set"===r?[]:e.selectedJointIds})}));var Tn=n(4484);const Ln=We(En,bn,xn,wn,Pn,Bn,Rn,Jn,(function(e=P,t){if(!(0,q.wr)(t))return e;const{selectedNodeIds:n,selectedJointIds:r}=e.services.selection,i=(0,wt.T)(e);for(const t of n){const n=i[t];if(!n)continue;const r=(0,Ge.ph)(e,n);(0,a.kg)(n,r)||(e=Lr(e,an(t,r)))}const o=(0,Cn.v5)(e);for(const t of r){const n=o[t];if(!n)continue;const r=(0,Ge.aj)(e,n);(0,a.kg)(n,r)||(e=Lr(e,te(t,r)))}return e}),(function(e=P,t){if(!(0,Tn.ww)(t))return e;const n=(0,Ve.d4)(e);return 0===n.length?e:Lr(e,(r=n,{type:xt,payload:{nodeIds:Array.isArray(r)?r:[r]}}));var r}),(function(e=P,t){if(!(0,G.SB)(t))return e;const{selectedNodeIds:n,selectedConnectionIds:r,selectedJointIds:i}=e.services.selection;var o;return n.length>0&&(e=Lr(e,(o=n,{type:z,payload:{nodeIds:(0,W._2)(o)}}))),e=r.reduce(((e,t)=>Lr(e,(e=>({type:$,payload:{connectionId:e}}))(t))),e),i.reduce(((e,t)=>Lr(e,(e=>({type:ne,payload:{jointId:e}}))(t))),e)}),(function(e=P,t){if(!function(e){return e.type===_}(t))return e;const{offsetX:n,offsetY:r,snapMode:i}=t.payload,o=(0,Ve.d4)(e),s=(0,Ve.O5)(e),c={x:n,y:r};let a="none";"node"!==i&&"by-type"!==i||(a="node");let l="none";return l="by-type"===i?"joint":i,e=Lr(e,an(o,c,{relative:!0,snapMode:a})),Lr(e,te(s,c,{relative:!0,snapMode:l}))}),(0,vn.V)(((e,t)=>{if(!Q(t))return e;const{connectionId:n}=t.payload;return Object.assign(Object.assign({},e),{selectedConnectionIds:e.selectedConnectionIds.filter((e=>e!==n))})})));var An=n(6036);const Wn=(0,An.X)(((e,t)=>ue(t)?f:e));function zn(e){return e.default}const Un={"input-momentary":zn(n(3667)),"input-toggle":zn(n(2318)),"logic-and":zn(n(7909)),"logic-buffer":zn(n(274)),"logic-nor":zn(n(8112)),"logic-not":zn(n(6559)),"logic-or":zn(n(2649)),"logic-xor":zn(n(8881)),"output-led":zn(n(6567)),"output-seg7":zn(n(4257))};var Fn=n(1235),qn=n(1755);const Gn=(0,qn.OF)(((e,t)=>(0,qn.F9)(e.simulatorNodeIdsByCircuitNodeId,t))),_n=(0,qn.OF)((e=>Object.keys(e.simulatorNodesById))),Hn=(0,qn.OF)(((e,t)=>{const n=e.simulatorNodesById[t];return n?n.elementType:null})),Kn=(e,t)=>{var n;const r=Hn(e,t);return r&&null!==(n=Un[r])&&void 0!==n?n:null};var Vn=n(7513),Xn=n.n(Vn);const $n=(0,qn.OF)(((e,t)=>{const n=e.simulatorNodesById[t];return n?Ft()(St()(n.outputsByPin),(e=>e.map((e=>e.simulatorNodeId)))):[]})),Qn=(0,qn.OF)(((e,t)=>{const n=e.simulatorNodesById[t];return n?n.inputsByPin:{}}));function Yn(e,t,n){const r=e.tick+t;e=Object.assign({},e,{transitionWindows:e.transitionWindows.slice()});let i=t+1;for(;e.transitionWindows.length>0&&e.transitionWindows[0].tick<=r;){if(0==--i)throw new Error("Maximum ticks per sim evolution exceeded.  This is an indication that windows are being generated for past ticks.");const t=e.transitionWindows.shift();e=er(e,t,n)}return e.tick!=r&&(e=Object.assign({},e,{tick:r})),e}function er(e,t,n){if(0===t.transitionIds.length)return e;let r=Object.assign({},e,{tick:t.tick,nodeOutputValuesByNodeId:Object.assign({},e.nodeOutputValuesByNodeId)});const i=new Set;t.transitionIds.forEach((e=>{const{nodeId:t,valuesByOutputPin:o}=r.transitionsById[e];var s,c;(s=r.nodeOutputValuesByNodeId[t],c=o,Object.keys(c).some((e=>s[e]!==c[e])))&&(r.nodeOutputValuesByNodeId[t]=Object.assign({},r.nodeOutputValuesByNodeId[t],o),$n(n,t).forEach((e=>i.add(e))))})),r.transitionsById=ye()(r.transitionsById,pt()(Object.keys(r.transitionsById),t.transitionIds));for(const e of i)r=tr(r,e,n);return r}function tr(e,t,n){const r=Kn(n,t);if(!r||!r.evolve)return e;const i=function(e,t,n){const r={},i=Qn(n,t);return Object.keys(i).forEach((t=>{var n;const o=i[t];if(!o)return void(r[t]=!1);const{simulatorNodeId:s,pinId:c}=o;r[t]=(null===(n=e.nodeOutputValuesByNodeId[s])||void 0===n?void 0:n[c])||!1})),r}(e,t,n);return nr(e,t,r.evolve(e.nodeStatesByNodeId[t],i,e.tick))}function nr(e,t,n){const{state:r,transitions:i}=n;return r&&(e=(0,Z.cA)(e,"nodeStatesByNodeId",t,r)),i&&(e=(0,W._2)(i).reduce(((e,n)=>function(e,t,n){const{tickOffset:r,valuesByPin:i,transitionMerger:o="replace"}=n,s=e.tick+(r>0?r:1);return"replace"===o&&(e=function(e,t){return Object.keys(e.transitionsById).filter((n=>function(e){return e.nodeId===t}(e.transitionsById[n]))).reduce(((e,t)=>function(e,t){const n=e.transitionsById[t];if(!n)return e;const r=ye()(e.transitionsById,Object.keys(e.transitionsById).filter((e=>e!==t)));let i=e.transitionWindows;const o=Xn()(i,n.tick,((e,t)=>e.tick-t));if(o>=0){const e=i[o],{transitionIds:n}=e,r=e.transitionIds.indexOf(t);-1!==r&&(1===e.transitionIds.length?i=(0,W.O_)(i,o):(i=i.slice(),i[o]=Object.assign({},i[o],{transitionIds:(0,W.O_)(n,r)})))}return Object.assign({},e,{transitionsById:r,transitionWindows:i})}(e,t)),e)}(e,t)),function(e,t,n,r){const i=(0,H.Z)(),o={nodeId:t,tick:n,valuesByOutputPin:r},s=e.transitionWindows.slice();let c=Xn()(s,n,((e,t)=>e.tick-t));if(c<0){c=-c-1;const e={tick:n,transitionIds:[]};s.splice(c,0,e)}const a=s[c].transitionIds.slice();a.push(i),s[c]=Object.assign({},s[c],{transitionIds:a});const l=Object.assign({},e.transitionsById,{[i]:o});return Object.assign({},e,{transitionsById:l,transitionWindows:s})}(e,t,s,i)}(e,t,n)),e)),e}const rr=(0,An.X)(((e,t,n)=>{if(!(0,Fn.ke)(t))return e;const{circuitNodeIdPath:r}=t.payload,i=Gn(n,r);if(!i)return e;const o=Hn(n,i);if(!o)return e;const s=Un[o];if(!s||!s.interact)return e;const c=e.nodeStatesByNodeId[i];return nr(e,i,s.interact(c))}));var ir=n(7366);const or=(0,An.X)(((e,t,n)=>{if(!(0,ir.RC)(t))return e;const{tick:r,transitionWindows:i}=e;return 0===i.length?e:Yn(e,i[0].tick-r,n)}));var sr=n(8910);const cr=We(Wn,rr,or,(0,An.X)(((e,t,n)=>(0,sr.NL)(t)?function(e,t){const n=_n(t);return e=f,e=n.reduce(((e,n)=>function(e,t,n){const r=Kn(n,t);if(!r)return e;const i={};return r.outputPins.forEach((e=>{i[e]=!1})),(0,Z.cA)(e,"nodeOutputValuesByNodeId",t,i)}(e,n,t)),e),n.reduce(((e,n)=>tr(e,n,t)),e)}(e,n):e)),(0,An.X)(((e,t,n)=>{if(!(0,ve.FD)(t))return e;const{tickCount:r}=t.payload,i=performance.now();e=Yn(e,r,n);const o=performance.now()-i;return Object.assign(Object.assign({},e),{lastTickProcessingTimeMs:o})})));var ar=n(4389);const lr=(0,ar.G)(((e,t)=>ue(t)?Object.assign(Object.assign({},e),{mode:"edit"}):e));var dr=n(8261),ur=n(2619);const pr=(0,ar.G)(((e,t)=>{if(!(0,dr.Ie)(t))return e;const{mode:n}=t.payload;if(!ur.D7.local(e))return e;let r=e.mode;switch(n){case!0:r="pause";break;case!1:r="run";break;case"toggle":r="run"==r?"pause":"run"}return Object.assign(Object.assign({},e),{mode:r})})),yr=(0,ar.G)(((e,t)=>(0,sr.NL)(t)?Object.assign(Object.assign({},e),{mode:"run"}):e));var mr=n(737);const fr=We(lr,pr,yr,(0,ar.G)(((e,t)=>(0,mr.qf)(t)?Object.assign(Object.assign({},g),{ticksPerSecond:e.ticksPerSecond}):e)));var gr=n(3857),hr=n.n(gr),Ir=n(7361),vr=n.n(Ir),br=n(4368);const Er=Tt(-10,(0,qn.Ac)(((e,t,n)=>{if(!(0,sr.NL)(t))return e;const{simulatorNodesById:r,simulatorNodeIdsByCircuitNodeId:i}=Or(o.u,n);return Object.assign(Object.assign({},e),{simulatorNodesById:r,simulatorNodeIdsByCircuitNodeId:i})}))),kr=Object.freeze({simulatorNodesById:{},simulatorNodeIdsByCircuitNodeId:{},inputElementPinsByCircuitPinId:{},outputElementPinsByCircuitPinId:{}});function Or(e,t){const n={},r={},i={},o={},s=[],c=[],a={},l={},d=(0,rt.U4)(t,e);for(const e of d){const o=(0,yt.og)(t,e);if(!o)continue;if("pin-input"===o){s.push(e),i[e]=[];continue}if("pin-output"===o){c.push(e);continue}const d=Nr(e,t);hr()(n,d.simulatorNodesById),hr()(r,d.simulatorNodeIdsByCircuitNodeId),a[e]=d.inputElementPinsByCircuitPinId,l[e]=d.outputElementPinsByCircuitPinId}const u=(0,tn.DH)(t);for(const e of Object.keys(u)){const{inputPin:t,outputPin:r}=u[e];if(-1===d.indexOf(t.nodeId)||-1===d.indexOf(r.nodeId))continue;const p=vr()(l,[r.nodeId,r.pinId]),y=vr()(a,[t.nodeId,t.pinId]);if(-1!==s.indexOf(r.nodeId)&&y){i[r.nodeId].push(...y);continue}if(-1!==c.indexOf(t.nodeId)&&p){o[t.nodeId]=p;continue}if(!p||!y)continue;const m=n[p.simulatorNodeId];let f=m.outputsByPin[p.pinId];null==f&&(m.outputsByPin[p.pinId]=f=[]);for(const e of y)f.push({simulatorNodeId:e.simulatorNodeId,pinId:e.pinId}),n[e.simulatorNodeId].inputsByPin[e.pinId]={simulatorNodeId:p.simulatorNodeId,pinId:p.pinId}}return{simulatorNodesById:n,simulatorNodeIdsByCircuitNodeId:r,inputElementPinsByCircuitPinId:i,outputElementPinsByCircuitPinId:o}}function Nr(e,t){const n=(0,yt.og)(t,e);if(!n)return kr;const r=(0,Qt.yP)(t,n);if(!r||!r.elementProduction)return kr;const i="string"==typeof(o=r.elementProduction)?{type:"element",elementType:o}:o;var o;switch(i.type){case"element":return function(e,t,n){const r=(0,br.m)(n,e);if(!r)return kr;const i={},o={},s=(0,H.Z)();i[s]={elementType:t.elementType,inputsByPin:{},outputsByPin:{}},o[e]={simulatorNodeId:s,subCircuitIds:{}};const c={},a={};for(const e of Object.keys(r.pins)){const{direction:t}=r.pins[e];"input"===t?c[e]=[{pinId:e,simulatorNodeId:s}]:"output"===t&&(a[e]={pinId:e,simulatorNodeId:s})}return{simulatorNodesById:i,simulatorNodeIdsByCircuitNodeId:o,inputElementPinsByCircuitPinId:c,outputElementPinsByCircuitPinId:a}}(e,i,t);case"circuit":return function(e,t,n){const r=Or(t.circuitId,n);return Object.assign(Object.assign({},r),{simulatorNodeIdsByCircuitNodeId:{[e]:{simulatorNodeId:null,subCircuitIds:r.simulatorNodeIdsByCircuitNodeId}}})}(e,i,t);default:throw new Error("Unsupported production type "+i.type)}}const Cr=We(Er,(0,qn.Ac)(((e,t)=>(0,mr.qf)(t)?Object.assign({},h):e)));var xr=n(2473),jr=n(5908);const wr=(0,jr.Y)(((e,t)=>{if(!(0,T.Q$)(t))return e;if(!e.layout)return e;const{circuitId:n}=t.payload,r=(0,xr.b0)(e.layout,(e=>!E(e)||e.windowProps.circuitId!==n));return Object.assign(Object.assign({},e),{layout:r})}));var Pr=n(2813);const Br=(0,jr.Y)(((e,t)=>{if(!(0,Pr.Z_)(t))return e;const{layout:n}=t.payload;return Object.assign(Object.assign({},e),{layout:n})}));var Mr=n(3084),Zr=n(9977);const Sr=(0,jr.Y)(((e,t,n)=>{if(!(0,Mr.k5)(t))return e;const{circuitId:r,circuitNodeIdPath:i,newWindow:o,tesselPath:s}=t.payload;if(-1===(0,Zr.Nd)(n).indexOf(r))return e;if(!e.layout)return e;const c=b(r,null!=i?i:[]);let a=e.layout;if(s)a=(0,Z.qP)((0,I.GH)(a),s,c);else{let e=!1;a=(0,xr.gU)(a,(t=>E(t)?(e=!0,o?{direction:"row",division:50,first:t,second:c}:c):null)),e||(a={direction:"row",division:{firstSize:200},first:a,second:c})}return Object.assign(Object.assign({},e),{layout:a})}));var Rr=n(6323);const Dr=We(wr,Br,Sr,(0,jr.Y)(((e,t)=>(0,Rr.Gf)(t)?O:e)));var Jr=n(5842);const Tr=We((0,n(4199).K)(((e,t)=>{if(!(0,Jr.RD)(t))return e;const{mode:n}=t.payload;return Object.assign(Object.assign({},e),{nodeNameMode:n})}))),Lr=function(e){const t=Ae()(e,(e=>e.weight||0));return(e=P,n)=>t.reduce(((e,t)=>t(e,n)),e)}(We(it,st,vt,Rt,Jt,Yt,dn,In,Ln,cr,fr,Cr,Dr,Tr));class Ar extends Error{constructor(e){super(e),this.message=e,this.code="SAVE_FORMAT_ERROR"}}function Wr(e){const t=(0,Cn.v5)(e);return{circuits:(0,Zr.Nd)(e).map((t=>({circuitId:t,circuitName:(0,Zr.w)(e,t)}))),nodes:(0,yt.Fm)(e).map((t=>{const n=(0,yt.yX)(e,t),r=(0,wt.e)(e,t),i=(0,rt.RW)(e,t);return{nodeId:t,nodeType:n.nodeType,nodeName:n.nodeName,circuitId:null!=i?i:o.u,x:r.x,y:r.y}})),wires:(0,tn.PB)(e).map((n=>{const r=(0,tn.rl)(e,n),i=(0,Cn.qq)(e,n);return{input:r.inputPin,output:r.outputPin,joints:i.map((e=>t[e]))}}))}}function zr(e,t){var n,r,i;try{Te.validateSync(t)}catch(e){throw new Ar(e.message)}e=P;try{e=(null!==(n=t.circuits)&&void 0!==n?n:[]).reduce(((e,{circuitId:t,circuitName:n})=>Lr(e,(0,J._Y)({circuitId:t,circuitName:n}))),e),e=(null!==(r=t.nodes)&&void 0!==r?r:[]).reduce(((e,t)=>{var n;return Lr(e,(0,A.gz)(t.nodeType,t.circuitId,{x:t.x,y:t.y},{nodeId:t.nodeId,nodeName:null!==(n=t.nodeName)&&void 0!==n?n:void 0}))}),e),e=(null!==(i=t.wires)&&void 0!==i?i:[]).reduce(((e,t)=>Lr(e,V(t.output,t.input,{joints:t.joints}))),e)}catch(e){throw console.error("Failed to rehydrate SaveData:",e),new Ar("Failed to load project.")}return e}function*Ur(){yield(0,ke.ib)(Be.WG,Fr)}function*Fr(){const e=yield(0,ke.Ys)();try{const t=Wr(e),n=JSON.stringify(t),r=(0,Ne.Wt)(n),i=Oe.lW.from(r).toString("base64"),o=encodeURIComponent(i),s=R+Ce.Z.createHref({pathname:"/import",search:"data="+o});yield(0,ke.RE)(Pe,"export-project-link",{projectLink:s})}catch(e){console.error("Failed to export project as link",e)}}var qr=n(7198);function*Gr(){yield(0,ke.ib)(qr.Yk,_r)}function*_r(e){const{data:t}=e.payload;try{const e=decodeURIComponent(t),n=Oe.lW.from(e,"base64"),r=(0,Ne.rr)(n,{to:"string"}),i=JSON.parse(r);yield(0,ke.gz)(le("Linked Project",i)),Ce.Z.push("/")}catch(e){console.error("Failed to import save from link",e)}}var Hr=n(4171),Kr=n.n(Hr),Vr=n(6577);function*Xr(){yield(0,ke.ib)(Vr.Wx,$r)}function*$r(){try{const[e]=yield(0,ke.RE)(Kr(),{accept:"application/json"}),t=yield(0,ke.RE)(e.text.bind(e)),n=JSON.parse(t);let r=e.name;r=r?r.substr(0,r.lastIndexOf(".json")):"Unnamed Project",yield(0,ke.gz)(le(r,n))}catch(e){console.warn("Failed to load project:",e)}}var Qr=n(3162),Yr=n(8473);function*ei(){yield(0,ke.ib)(hn.hq,ti)}function*ti(){const e=yield(0,ke.Ys)();try{window.showSaveFilePicker?yield(0,ke.RE)(ni,e):yield(0,ke.RE)(ri,e),yield(0,ke.gz)((0,hn.Ub)())}catch(e){console.warn("Failed to save project",e)}}function*ni(e){const t=yield(0,ke.Ys)(Yr._),n=yield(0,ke.RE)(window.showSaveFilePicker,{suggestedName:t,types:[{description:"Discrelog Project Files",accept:{"application/json":[".json"]}}]});if(!n)return;let r=n.name;r||(r=n.getFile().name),r&&(r=r.substr(0,r.lastIndexOf(".json")),yield(0,ke.gz)((e=>({type:fn,payload:{projectName:e}}))(r)));const i=Wr(e),o=yield(0,ke.RE)(n.createWritable.bind(n));yield(0,ke.RE)(o.write.bind(o),JSON.stringify(i,null,2)),yield(0,ke.RE)(o.close.bind(o))}function*ri(e){const t=yield(0,ke.Ys)(Yr._),n=Wr(e),r=new Blob([JSON.stringify(n,null,2)],{type:"application/json;charset=utf-8"});(0,Qr.saveAs)(r,t+".json")}function*ii(){yield(0,ke.rM)(Ur),yield(0,ke.rM)(Gr),yield(0,ke.rM)(Xr),yield(0,ke.rM)(ei)}function*oi(){yield(0,ke.A7)([sr.pu,dr.l2],si)}function*si(){for(;yield(0,ke.Ys)(ur.yU);){try{yield(0,ke.gz)((0,ve.jf)(1))}catch(e){return console.error(e),void(yield(0,ke.gz)((0,dr.ri)(!0)))}const e=yield(0,ke.Ys)(ur.bg),t=Math.max(Math.ceil(1e3/e),1);yield(0,ke.gw)(t)}}function*ci(){yield(0,ke.rM)(oi)}const ai=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({actionSanitizer:function(e){return e},stateSanitizer:function(e){return e},actionsBlacklist:Ee})||B.qC,li=(0,M.ZP)(),di=[!1,li].filter(Z.fQ),ui=(0,B.MT)((function(e=P,t){return e=function(e=P,t){return function(e=P,t){if(!(0,oe.Qy)(t))return e;const{undoStack:n,redoStack:r}=e.undo,i=ge()(n);return i?Object.assign(Object.assign({},e),{services:Object.assign(Object.assign({},e.services),i),undo:Object.assign(Object.assign({},e.undo),{undoStack:n.slice(0,n.length-1),redoStack:[...r,me(e)]})}):e}(e=function(e=P,t){if(!(0,se.rA)(t))return e;const{undoStack:n,redoStack:r}=e.undo,i=ge()(r);return i?Object.assign(Object.assign({},e),{services:Object.assign(Object.assign({},e.services),i),undo:Object.assign(Object.assign({},e.undo),{undoStack:[...n,me(e)],redoStack:r.slice(0,r.length-1)})}):e}(e=function(e=P,t){return!ue(t)||(0,oe.Qy)(t)||(0,se.rA)(t)?e:(0,Z.cA)(e,"undo",(t=>Object.assign(Object.assign({},t),{undoStack:[...t.undoStack.slice(0,25),me(e)],redoStack:[]})))}(e,t),t),t)}(e,t),Lr(e,t)}),ai((0,B.md)(...di)));li.run((function*(){yield(0,ke.rM)(ii),yield(0,ke.rM)(ci)})),ui.dispatch({type:D})},6600:(e,t,n)=>{"use strict";function r(...e){return e.filter((e=>Boolean(e)&&""!=e)).join(" ")}function i(...e){return o(e[0],e.slice(1,e.length-1).map(String),e[e.length-1])}function o(e,t,n){if(0===t.length)return"function"==typeof n?n(e):n;const r=t.slice(0,t.length-1).map(String),i=t[t.length-1],o=s(e);let c=o;for(const e of r)c[e]=s(c[e]),c=c[e];return c[i]="function"==typeof n?n(c[i]):n,o}function s(e){return Array.isArray(e)?e.slice():Object.assign({},e)}function c(e){return Boolean(e)}n.d(t,{yI:()=>r,cA:()=>i,qP:()=>o,fQ:()=>c})}},0,[[6834,1,956,874,90,14,80,744,845,105,699,730]]]);
//# sourceMappingURL=client.e4157a5cbcb669be2653.bundle.js.map