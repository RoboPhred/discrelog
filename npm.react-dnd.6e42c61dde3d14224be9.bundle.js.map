{"version":3,"sources":["webpack://discrelog/./node_modules/react-dnd/dist/esm/common/DndContext.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/hooks/internal/useCollector.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/hooks/internal/useDragDropManager.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/hooks/internal/useIsomorphicLayoutEffect.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/hooks/useDragLayer.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/common/DndProvider.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/common/DragPreviewImage.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/hooks/internal/useMonitorOutput.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/common/registration.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/common/DragSourceMonitorImpl.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/utils/cloneWithRef.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/common/wrapConnectorHooks.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/utils/isRef.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/common/SourceConnector.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/hooks/internal/drag.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/hooks/useDrag.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/common/TargetConnector.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/common/DropTargetMonitorImpl.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/hooks/useDrop.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/hooks/internal/drop.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/utils/js_utils.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/decorators/utils.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/decorators/disposables.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/decorators/decorateHandler.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/utils/isValidType.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/decorators/createSourceFactory.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/decorators/DragSource.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/decorators/createTargetFactory.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/decorators/DropTarget.js","webpack://discrelog/./node_modules/react-dnd/dist/esm/decorators/DragLayer.js"],"names":["DndContext","dragDropManager","undefined","createDndContext","backend","context","options","debugMode","useCollector","monitor","collect","onUpdate","arr","i","_useState2","useState","Array","isArray","_arrayWithHoles","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","_s","_i","next","done","push","value","length","err","_iterableToArrayLimit","TypeError","_nonIterableRest","collected","setCollected","updateCollected","useCallback","nextValue","useDragDropManager","useContext","useIsomorphicLayoutEffect","window","useLayoutEffect","useEffect","useDragLayer","getMonitor","_useCollector2","subscribeToOffsetChange","subscribeToStateChange","refCount","DndProvider","memo","_ref","props","children","_getDndContextValue2","source","excluded","key","target","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_objectWithoutProperties","manager","arguments","getGlobalContext","ctx","instanceSymbol","createSingletonDndContext","isGlobalInstance","displayName","for","g","DragPreviewImage","connect","src","Image","img","onload","useMonitorOutput","onCollect","handlerId","getHandlerId","handlerIds","registerTarget","type","registry","getRegistry","targetId","addTarget","removeTarget","registerSource","sourceId","addSource","removeSource","_defineProperties","descriptor","enumerable","configurable","writable","defineProperty","isCallingCanDrag","isCallingIsDragging","DragSourceMonitorImpl","instance","Constructor","_classCallCheck","this","internalMonitor","protoProps","canDragSource","isDraggingSource","listener","isOverTarget","getTargetIds","isSourcePublic","getSourceId","canDropOnTarget","getItemType","getItem","getDropResult","didDrop","getInitialClientOffset","getInitialSourceClientOffset","getSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","setRef","ref","node","current","cloneWithRef","element","newRef","previousRef","cloneElement","throwIfCompositeComponentElement","name","Error","concat","wrapConnectorHooks","hooks","wrappedHooks","forEach","hook","endsWith","wrappedHook","elementOrNode","isValidElement","wrapHookToRecognizeElement","_typeof","obj","constructor","isRef","hasOwnProperty","SourceConnector","_this","dragSource","clearDragSource","dragSourceOptions","dragSourceRef","dragSourceNode","reconnectDragSource","dragPreview","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","dragSourceOptionsInternal","dragPreviewOptionsInternal","lastConnectedHandlerId","lastConnectedDragSource","lastConnectedDragSourceOptions","lastConnectedDragPreview","lastConnectedDragPreviewOptions","newHandlerId","reconnect","didChange","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","dragSourceUnsubscribe","connectDragSource","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","dragPreviewUnsubscribe","connectDragPreview","get","set","useDrag","spec","specRef","useRef","item","_useDragSourceMonitor2","useMemo","getBackend","connector","handler","beginDrag","_spec$current","begin","beginResult","canDrag","isDragging","globalMonitor","endDrag","end","_registerSource2","unregister","receiveHandlerId","useDragHandler","result","previewOptions","TargetConnector","dropTarget","clearDropTarget","dropTargetOptions","dropTargetRef","dropTargetNode","dropTargetOptionsInternal","lastConnectedDropTarget","lastConnectedDropTargetOptions","didDropTargetChange","didOptionsChange","disconnectDropTarget","unsubscribeDropTarget","connectDropTarget","isCallingCanDrop","DropTargetMonitorImpl","useDrop","accept","_useDropTargetMonitor2","canDrop","hover","drop","_registerTarget2","useDropHandler","isFunction","input","noop","isPlainObject","isObjectLike","getPrototypeOf","proto","getDecoratedComponent","instanceRef","currentRef","decoratedRef","isRefable","C","Component","render","$$typeof","isRefForwardingComponent","staticProps","Disposable","action","isDisposed","d","dispose","isDisposable","empty","CompositeDisposable","_len","disposables","_key","shouldDispose","idx","splice","len","currentDisposables","_i2","SerialDisposable","old","_getPrototypeOf","o","setPrototypeOf","__proto__","_setPrototypeOf","p","decorateHandler","DecoratedComponent","createHandler","createMonitor","createConnector","registerHandler","containerDisplayName","getType","_options$arePropsEqua","arePropsEqual","Decorated","DragDropContainer","_React$Component","self","ReferenceError","_assertThisInitialized","_possibleConstructorReturn","handleChange","nextState","getCurrentState","state","setState","disposable","receiveProps","subClass","superClass","create","_inherits","nextProps","currentType","prevProps","receiveType","handlerMonitor","handlerConnector","_registerHandler2","unsubscribe","setDisposable","_this2","_ref2","receiveDragDropManager","requestAnimationFrame","assign","isValidType","allowArray","every","t","ALLOWED_SPEC_METHODS","REQUIRED_SPEC_METHODS","SourceImpl","createSourceFactory","join","DragSource","createSource","TargetImpl","createTargetFactory","DropTarget","createTarget","DragLayer","DragLayerContainer","apply","isCurrentlyMounted","unsubscribeFromOffsetChange","unsubscribeFromStateChange"],"mappings":"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","file":"npm.react-dnd.6e42c61dde3d14224be9.bundle.js","sourcesContent":["import * as React from 'react';\nimport { createDragDropManager } from 'dnd-core';\n/**\n * Create the React Context\n */\n\nexport var DndContext = React.createContext({\n  dragDropManager: undefined\n});\n/**\n * Creates the context object we're providing\n * @param backend\n * @param context\n */\n\nexport function createDndContext(backend, context, options, debugMode) {\n  return {\n    dragDropManager: createDragDropManager(backend, context, options, debugMode)\n  };\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { useState, useCallback } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nexport function useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor);\n\n    if (!shallowEqual(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after the first render\n  // and the components are attached to dnd-core\n\n  useIsomorphicLayoutEffect(updateCollected, []);\n  return [collected, updateCollected];\n}","import { useContext } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../../common/DndContext';\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nexport function useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}","import { useLayoutEffect, useEffect } from 'react'; // suppress the useLayoutEffect warning on server side.\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useEffect } from 'react';\nimport { useDragDropManager } from './internal/useDragDropManager';\nimport { useCollector } from './internal/useCollector';\n/**\n * useDragLayer Hook\n * @param collector The property collector\n */\n\nexport function useDragLayer(collect) {\n  var dragDropManager = useDragDropManager();\n  var monitor = dragDropManager.getMonitor();\n\n  var _useCollector = useCollector(monitor, collect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useEffect(function () {\n    return monitor.subscribeToOffsetChange(updateCollected);\n  });\n  useEffect(function () {\n    return monitor.subscribeToStateChange(updateCollected);\n  });\n  return collected;\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from 'react';\nimport { memo } from 'react';\nimport { DndContext, createDndContext } from './DndContext';\nvar refCount = 0;\n/**\n * A React component that provides the React-DnD context\n */\n\nexport var DndProvider = memo(function (_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, [\"children\"]);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  React.useEffect(function () {\n    if (isGlobalInstance) {\n      refCount++;\n    }\n\n    return function () {\n      if (isGlobalInstance) {\n        refCount--;\n\n        if (refCount === 0) {\n          var context = getGlobalContext();\n          context[instanceSymbol] = null;\n        }\n      }\n    };\n  }, []);\n  return React.createElement(DndContext.Provider, {\n    value: manager\n  }, children);\n});\nDndProvider.displayName = 'DndProvider';\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nvar instanceSymbol = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[instanceSymbol]) {\n    ctx[instanceSymbol] = createDndContext(backend, context, options, debugMode);\n  }\n\n  return ctx[instanceSymbol];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}","import * as React from 'react';\n/*\n * A utility for rendering a drag preview image\n */\n\nexport var DragPreviewImage = React.memo(function (_ref) {\n  var connect = _ref.connect,\n      src = _ref.src;\n\n  if (typeof Image !== 'undefined') {\n    var img = new Image();\n    img.src = src;\n\n    img.onload = function () {\n      return connect(img);\n    };\n  }\n\n  return null;\n});\nDragPreviewImage.displayName = 'DragPreviewImage';","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { useCollector } from './useCollector';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return undefined;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl =\n/*#__PURE__*/\nfunction () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    this.sourceId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","import { cloneElement } from 'react';\nimport { invariant } from '@react-dnd/invariant';\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nexport function cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","import { isValidElement } from 'react';\nimport { cloneWithRef } from '../utils/cloneWithRef';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport default function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && obj.hasOwnProperty('current')\n  );\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport wrapConnectorHooks from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector =\n/*#__PURE__*/\nfunction () {\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dragSourceRef = null;\n    this.dragSourceOptionsInternal = null; // The drag preview may either be attached via ref or connect function\n\n    this.dragPreviewRef = null;\n    this.dragPreviewOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDragSource = null;\n    this.lastConnectedDragSourceOptions = null;\n    this.lastConnectedDragPreview = null;\n    this.lastConnectedDragPreviewOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (!this.handlerId) {\n        this.disconnectDragPreview();\n      } else if (this.dragPreview && didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.disconnectDragPreview();\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { registerSource } from '../../common/registration';\nimport { useDragDropManager } from './useDragDropManager';\nimport { DragSourceMonitorImpl } from '../../common/DragSourceMonitorImpl';\nimport { SourceConnector } from '../../common/SourceConnector';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nexport function useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  var monitor = useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  return [monitor, connector];\n}\nexport function useDragHandler(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useMemo(function () {\n    return {\n      beginDrag: function beginDrag() {\n        var _spec$current = spec.current,\n            begin = _spec$current.begin,\n            item = _spec$current.item;\n\n        if (begin) {\n          var beginResult = begin(monitor);\n          invariant(beginResult == null || _typeof(beginResult) === 'object', 'dragSpec.begin() must either return an object, undefined, or null');\n          return beginResult || item || {};\n        }\n\n        return item || {};\n      },\n      canDrag: function canDrag() {\n        if (typeof spec.current.canDrag === 'boolean') {\n          return spec.current.canDrag;\n        } else if (typeof spec.current.canDrag === 'function') {\n          return spec.current.canDrag(monitor);\n        } else {\n          return true;\n        }\n      },\n      isDragging: function isDragging(globalMonitor, target) {\n        var isDragging = spec.current.isDragging;\n        return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n      },\n      endDrag: function endDrag() {\n        var end = spec.current.end;\n\n        if (end) {\n          end(monitor.getItem(), monitor);\n        }\n\n        connector.reconnect();\n      }\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function registerHandler() {\n    var _registerSource = registerSource(spec.current.item.type, handler, manager),\n        _registerSource2 = _slicedToArray(_registerSource, 2),\n        handlerId = _registerSource2[0],\n        unregister = _registerSource2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, []);\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useRef, useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { useMonitorOutput } from './internal/useMonitorOutput';\nimport { useIsomorphicLayoutEffect } from './internal/useIsomorphicLayoutEffect';\nimport { useDragSourceMonitor, useDragHandler } from './internal/drag';\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification *\n */\n\nexport function useDrag(spec) {\n  var specRef = useRef(spec);\n  specRef.current = spec; // TODO: wire options into createSourceConnector\n\n  invariant(spec.item != null, 'item must be defined');\n  invariant(spec.item.type != null, 'item type must be defined');\n\n  var _useDragSourceMonitor = useDragSourceMonitor(),\n      _useDragSourceMonitor2 = _slicedToArray(_useDragSourceMonitor, 2),\n      monitor = _useDragSourceMonitor2[0],\n      connector = _useDragSourceMonitor2[1];\n\n  useDragHandler(specRef, monitor, connector);\n  var result = useMonitorOutput(monitor, specRef.current.collect || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n  var connectDragSource = useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n  var connectDragPreview = useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = specRef.current.options || null;\n    connector.reconnect();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = specRef.current.previewOptions || null;\n    connector.reconnect();\n  }, [connector]);\n  return [result, connectDragSource, connectDragPreview];\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport wrapConnectorHooks from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nexport var TargetConnector =\n/*#__PURE__*/\nfunction () {\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dropTargetRef = null;\n    this.dropTargetOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDropTarget = null;\n    this.lastConnectedDropTargetOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }]);\n\n  return TargetConnector;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl =\n/*#__PURE__*/\nfunction () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    this.targetId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useRef, useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { useMonitorOutput } from './internal/useMonitorOutput';\nimport { useIsomorphicLayoutEffect } from './internal/useIsomorphicLayoutEffect';\nimport { useDropHandler, useDropTargetMonitor } from './internal/drop';\n/**\n * useDropTarget Hook\n * @param spec The drop target specification\n */\n\nexport function useDrop(spec) {\n  var specRef = useRef(spec);\n  specRef.current = spec;\n  invariant(spec.accept != null, 'accept must be defined');\n\n  var _useDropTargetMonitor = useDropTargetMonitor(),\n      _useDropTargetMonitor2 = _slicedToArray(_useDropTargetMonitor, 2),\n      monitor = _useDropTargetMonitor2[0],\n      connector = _useDropTargetMonitor2[1];\n\n  useDropHandler(specRef, monitor, connector);\n  var result = useMonitorOutput(monitor, specRef.current.collect || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n  var connectDropTarget = useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = spec.options || null;\n    connector.reconnect();\n  }, [spec.options]);\n  return [result, connectDropTarget];\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useMemo } from 'react';\nimport { registerTarget } from '../../common/registration';\nimport { useDragDropManager } from './useDragDropManager';\nimport { TargetConnector } from '../../common/TargetConnector';\nimport { DropTargetMonitorImpl } from '../../common/DropTargetMonitorImpl';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nexport function useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  var monitor = useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  return [monitor, connector];\n}\nexport function useDropHandler(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useMemo(function () {\n    return {\n      canDrop: function canDrop() {\n        var canDrop = spec.current.canDrop;\n        return canDrop ? canDrop(monitor.getItem(), monitor) : true;\n      },\n      hover: function hover() {\n        var hover = spec.current.hover;\n\n        if (hover) {\n          hover(monitor.getItem(), monitor);\n        }\n      },\n      drop: function drop() {\n        var drop = spec.current.drop;\n\n        if (drop) {\n          return drop(monitor.getItem(), monitor);\n        }\n      }\n    };\n  }, [monitor]);\n  useIsomorphicLayoutEffect(function registerHandler() {\n    var _registerTarget = registerTarget(spec.current.accept, handler, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [monitor, connector]);\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\nexport function isFunction(input) {\n  return typeof input === 'function';\n}\nexport function noop() {// noop\n}\n\nfunction isObjectLike(input) {\n  return _typeof(input) === 'object' && input !== null;\n}\n\nexport function isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}","export function getDecoratedComponent(instanceRef) {\n  var currentRef = instanceRef.current;\n\n  if (currentRef == null) {\n    return null;\n  } else if (currentRef.decoratedRef) {\n    // go through the private field in decorateHandler to avoid the invariant hit\n    return currentRef.decoratedRef.current;\n  } else {\n    return currentRef;\n  }\n}\nexport function isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nexport function isRefForwardingComponent(C) {\n  return C && C.$$typeof && C.$$typeof.toString() === 'Symbol(react.forward_ref)';\n}\nexport function isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nexport function checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { isFunction, noop } from '../utils/js_utils';\n/**\n * Provides a set of static methods for creating Disposables.\n * @param {Function} action Action to run during the first call to dispose.\n * The action is guaranteed to be run at most once.\n */\n\nexport var Disposable =\n/*#__PURE__*/\nfunction () {\n  function Disposable(action) {\n    _classCallCheck(this, Disposable);\n\n    this.isDisposed = false;\n    this.action = isFunction(action) ? action : noop;\n  }\n  /**\n   * Validates whether the given object is a disposable\n   * @param {Object} Object to test whether it has a dispose method\n   * @returns {Boolean} true if a disposable object, else false.\n   */\n\n\n  _createClass(Disposable, [{\n    key: \"dispose\",\n\n    /** Performs the task of cleaning up resources. */\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.action();\n        this.isDisposed = true;\n      }\n    }\n  }], [{\n    key: \"isDisposable\",\n    value: function isDisposable(d) {\n      return d && isFunction(d.dispose);\n    }\n  }, {\n    key: \"_fixup\",\n    value: function _fixup(result) {\n      return Disposable.isDisposable(result) ? result : Disposable.empty;\n    }\n    /**\n     * Creates a disposable object that invokes the specified action when disposed.\n     * @param {Function} dispose Action to run during the first call to dispose.\n     * The action is guaranteed to be run at most once.\n     * @return {Disposable} The disposable object that runs the given action upon disposal.\n     */\n\n  }, {\n    key: \"create\",\n    value: function create(action) {\n      return new Disposable(action);\n    }\n  }]);\n\n  return Disposable;\n}();\n/**\n * Gets the disposable that does nothing when disposed.\n */\n\nDisposable.empty = {\n  dispose: noop\n};\n/**\n * Represents a group of disposable resources that are disposed together.\n * @constructor\n */\n\nexport var CompositeDisposable =\n/*#__PURE__*/\nfunction () {\n  function CompositeDisposable() {\n    _classCallCheck(this, CompositeDisposable);\n\n    this.isDisposed = false;\n\n    for (var _len = arguments.length, disposables = new Array(_len), _key = 0; _key < _len; _key++) {\n      disposables[_key] = arguments[_key];\n    }\n\n    this.disposables = disposables;\n  }\n  /**\n   * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n   * @param {Any} item Disposable to add.\n   */\n\n\n  _createClass(CompositeDisposable, [{\n    key: \"add\",\n    value: function add(item) {\n      if (this.isDisposed) {\n        item.dispose();\n      } else {\n        this.disposables.push(item);\n      }\n    }\n    /**\n     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n     * @param {Any} item Disposable to remove.\n     * @returns {Boolean} true if found; false otherwise.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      var shouldDispose = false;\n\n      if (!this.isDisposed) {\n        var idx = this.disposables.indexOf(item);\n\n        if (idx !== -1) {\n          shouldDispose = true;\n          this.disposables.splice(idx, 1);\n          item.dispose();\n        }\n      }\n\n      return shouldDispose;\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group but\n     *  does not dispose the CompositeDisposable.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.isDisposed) {\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i = 0; _i < len; _i++) {\n          currentDisposables[_i].dispose();\n        }\n      }\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i2 = 0; _i2 < len; _i2++) {\n          currentDisposables[_i2].dispose();\n        }\n      }\n    }\n  }]);\n\n  return CompositeDisposable;\n}();\n/**\n * Represents a disposable resource whose underlying disposable resource can\n * be replaced by another disposable resource, causing automatic disposal of\n * the previous underlying disposable resource.\n */\n\nexport var SerialDisposable =\n/*#__PURE__*/\nfunction () {\n  function SerialDisposable() {\n    _classCallCheck(this, SerialDisposable);\n\n    this.isDisposed = false;\n  }\n  /**\n   * Gets the underlying disposable.\n   * @returns {Any} the underlying disposable.\n   */\n\n\n  _createClass(SerialDisposable, [{\n    key: \"getDisposable\",\n    value: function getDisposable() {\n      return this.current;\n    }\n  }, {\n    key: \"setDisposable\",\n    value: function setDisposable(value) {\n      var shouldDispose = this.isDisposed;\n\n      if (!shouldDispose) {\n        var old = this.current;\n        this.current = value;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n\n      if (shouldDispose && value) {\n        value.dispose();\n      }\n    }\n    /** Performs the task of cleaning up resources. */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var old = this.current;\n        this.current = undefined;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n    }\n  }]);\n\n  return SerialDisposable;\n}();","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { DndContext } from '../index';\nimport { isPlainObject } from '../utils/js_utils';\nimport { Disposable, CompositeDisposable, SerialDisposable } from './disposables';\nimport { isRefable } from './utils';\nexport default function decorateHandler(_ref) {\n  var DecoratedComponent = _ref.DecoratedComponent,\n      createHandler = _ref.createHandler,\n      createMonitor = _ref.createMonitor,\n      createConnector = _ref.createConnector,\n      registerHandler = _ref.registerHandler,\n      containerDisplayName = _ref.containerDisplayName,\n      getType = _ref.getType,\n      collect = _ref.collect,\n      options = _ref.options;\n  var _options$arePropsEqua = options.arePropsEqual,\n      arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n  var Decorated = DecoratedComponent;\n  var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n  var DragDropContainer =\n  /*#__PURE__*/\n  function (_React$Component) {\n    _inherits(DragDropContainer, _React$Component);\n\n    function DragDropContainer(props) {\n      var _this;\n\n      _classCallCheck(this, DragDropContainer);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(DragDropContainer).call(this, props));\n      _this.decoratedRef = React.createRef();\n\n      _this.handleChange = function () {\n        var nextState = _this.getCurrentState();\n\n        if (!shallowEqual(nextState, _this.state)) {\n          _this.setState(nextState);\n        }\n      };\n\n      _this.disposable = new SerialDisposable();\n\n      _this.receiveProps(props);\n\n      _this.dispose();\n\n      return _this;\n    }\n\n    _createClass(DragDropContainer, [{\n      key: \"getHandlerId\",\n      value: function getHandlerId() {\n        return this.handlerId;\n      }\n    }, {\n      key: \"getDecoratedComponentInstance\",\n      value: function getDecoratedComponentInstance() {\n        invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n        return this.decoratedRef.current;\n      }\n    }, {\n      key: \"shouldComponentUpdate\",\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.disposable = new SerialDisposable();\n        this.currentType = undefined;\n        this.receiveProps(this.props);\n        this.handleChange();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (!arePropsEqual(this.props, prevProps)) {\n          this.receiveProps(this.props);\n          this.handleChange();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.dispose();\n      }\n    }, {\n      key: \"receiveProps\",\n      value: function receiveProps(props) {\n        if (!this.handler) {\n          return;\n        }\n\n        this.handler.receiveProps(props);\n        this.receiveType(getType(props));\n      }\n    }, {\n      key: \"receiveType\",\n      value: function receiveType(type) {\n        if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {\n          return;\n        }\n\n        if (type === this.currentType) {\n          return;\n        }\n\n        this.currentType = type;\n\n        var _registerHandler = registerHandler(type, this.handler, this.manager),\n            _registerHandler2 = _slicedToArray(_registerHandler, 2),\n            handlerId = _registerHandler2[0],\n            unregister = _registerHandler2[1];\n\n        this.handlerId = handlerId;\n        this.handlerMonitor.receiveHandlerId(handlerId);\n        this.handlerConnector.receiveHandlerId(handlerId);\n        var globalMonitor = this.manager.getMonitor();\n        var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, {\n          handlerIds: [handlerId]\n        });\n        this.disposable.setDisposable(new CompositeDisposable(new Disposable(unsubscribe), new Disposable(unregister)));\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        this.disposable.dispose();\n\n        if (this.handlerConnector) {\n          this.handlerConnector.receiveHandlerId(null);\n        }\n      }\n    }, {\n      key: \"getCurrentState\",\n      value: function getCurrentState() {\n        if (!this.handlerConnector) {\n          return {};\n        }\n\n        var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);\n\n        if (process.env.NODE_ENV !== 'production') {\n          invariant(isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' + '%s for %s to return a plain object of props to inject. ' + 'Instead, received %s.', containerDisplayName, displayName, nextState);\n        }\n\n        return nextState;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        return React.createElement(DndContext.Consumer, null, function (_ref2) {\n          var dragDropManager = _ref2.dragDropManager;\n\n          _this2.receiveDragDropManager(dragDropManager);\n\n          if (typeof requestAnimationFrame !== 'undefined') {\n            requestAnimationFrame(function () {\n              return _this2.handlerConnector.reconnect();\n            });\n          }\n\n          return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.getCurrentState(), {\n            // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.\n            ref: isRefable(Decorated) ? _this2.decoratedRef : null\n          }));\n        });\n      }\n    }, {\n      key: \"receiveDragDropManager\",\n      value: function receiveDragDropManager(dragDropManager) {\n        if (this.manager !== undefined) {\n          return;\n        }\n\n        invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n        if (dragDropManager === undefined) {\n          return;\n        }\n\n        this.manager = dragDropManager;\n        this.handlerMonitor = createMonitor(dragDropManager);\n        this.handlerConnector = createConnector(dragDropManager.getBackend());\n        this.handler = createHandler(this.handlerMonitor, this.decoratedRef);\n      }\n    }]);\n\n    return DragDropContainer;\n  }(React.Component);\n\n  DragDropContainer.DecoratedComponent = DecoratedComponent;\n  DragDropContainer.displayName = \"\".concat(containerDisplayName, \"(\").concat(displayName, \")\");\n  return hoistStatics(DragDropContainer, DecoratedComponent);\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isValidType(type, allowArray) {\n  return typeof type === 'string' || _typeof(type) === 'symbol' || !!allowArray && Array.isArray(type) && type.every(function (t) {\n    return isValidType(t, false);\n  });\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];\nvar REQUIRED_SPEC_METHODS = ['beginDrag'];\n\nvar SourceImpl =\n/*#__PURE__*/\nfunction () {\n  function SourceImpl(spec, monitor, ref) {\n    var _this = this;\n\n    _classCallCheck(this, SourceImpl);\n\n    this.props = null;\n\n    this.beginDrag = function () {\n      if (!_this.props) {\n        return;\n      }\n\n      var item = _this.spec.beginDrag(_this.props, _this.monitor, _this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', item);\n      }\n\n      return item;\n    };\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(SourceImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.canDrag) {\n        return true;\n      }\n\n      return this.spec.canDrag(this.props, this.monitor);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, sourceId) {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.isDragging) {\n        return sourceId === globalMonitor.getSourceId();\n      }\n\n      return this.spec.isDragging(this.props, this.monitor);\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      if (!this.props) {\n        return;\n      }\n\n      if (!this.spec.endDrag) {\n        return;\n      }\n\n      this.spec.endDrag(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }]);\n\n  return SourceImpl;\n}();\n\nexport default function createSourceFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  REQUIRED_SPEC_METHODS.forEach(function (key) {\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  return function createSource(monitor, ref) {\n    return new SourceImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { checkDecoratorArguments } from './utils';\nimport decorateHandler from './decorateHandler';\nimport { registerSource } from '../common/registration';\nimport { DragSourceMonitorImpl } from '../common/DragSourceMonitorImpl';\nimport { SourceConnector } from '../common/SourceConnector';\nimport { isValidType } from '../utils/isValidType';\nimport createSourceFactory from './createSourceFactory';\n/**\n * Decorates a component as a dragsource\n * @param type The dragsource type\n * @param spec The drag source specification\n * @param collect The props collector function\n * @param options DnD options\n */\n\nexport function DragSource(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DragSource', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type), 'Expected \"type\" provided as the first argument to DragSource to be ' + 'a string, or a function that returns a string given the current props. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DragSource to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', spec);\n  var createSource = createSourceFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DragSource to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DragSource to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  return function decorateSource(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DragSource',\n      createHandler: createSource,\n      registerHandler: registerSource,\n      createConnector: function createConnector(backend) {\n        return new SourceConnector(backend);\n      },\n      createMonitor: function createMonitor(manager) {\n        return new DragSourceMonitorImpl(manager);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\n\nvar TargetImpl =\n/*#__PURE__*/\nfunction () {\n  function TargetImpl(spec, monitor, ref) {\n    _classCallCheck(this, TargetImpl);\n\n    this.props = null;\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(TargetImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"receiveMonitor\",\n    value: function receiveMonitor(monitor) {\n      this.monitor = monitor;\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      if (!this.spec.canDrop) {\n        return true;\n      }\n\n      return this.spec.canDrop(this.props, this.monitor);\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      if (!this.spec.hover) {\n        return;\n      }\n\n      this.spec.hover(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      if (!this.spec.drop) {\n        return undefined;\n      }\n\n      var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(typeof dropResult === 'undefined' || isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);\n      }\n\n      return dropResult;\n    }\n  }]);\n\n  return TargetImpl;\n}();\n\nexport default function createTargetFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);\n  });\n  return function createTarget(monitor, ref) {\n    return new TargetImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { registerTarget } from '../common/registration';\nimport { isValidType } from '../utils/isValidType';\nimport { TargetConnector } from '../common/TargetConnector';\nimport { DropTargetMonitorImpl } from '../common/DropTargetMonitorImpl';\nimport { checkDecoratorArguments } from './utils';\nimport decorateHandler from './decorateHandler';\nimport createTargetFactory from './createTargetFactory';\nexport function DropTarget(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type, true), 'Expected \"type\" provided as the first argument to DropTarget to be ' + 'a string, an array of strings, or a function that returns either given ' + 'the current props. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DropTarget to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', spec);\n  var createTarget = createTargetFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DropTarget to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DropTarget to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  return function decorateTarget(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DropTarget',\n      createHandler: createTarget,\n      registerHandler: registerTarget,\n      createMonitor: function createMonitor(manager) {\n        return new DropTargetMonitorImpl(manager);\n      },\n      createConnector: function createConnector(backend) {\n        return new TargetConnector(backend);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../index';\nimport { isPlainObject } from '../utils/js_utils';\nimport { isRefable, checkDecoratorArguments } from './utils';\nexport function DragLayer(collect) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  checkDecoratorArguments('DragLayer', 'collect[, options]', collect, options);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. ' + 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);\n  return function decorateLayer(DecoratedComponent) {\n    var Decorated = DecoratedComponent;\n    var _options$arePropsEqua = options.arePropsEqual,\n        arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n    var displayName = Decorated.displayName || Decorated.name || 'Component';\n\n    var DragLayerContainer =\n    /*#__PURE__*/\n    function (_React$Component) {\n      _inherits(DragLayerContainer, _React$Component);\n\n      function DragLayerContainer() {\n        var _this;\n\n        _classCallCheck(this, DragLayerContainer);\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(DragLayerContainer).apply(this, arguments));\n        _this.isCurrentlyMounted = false;\n        _this.ref = React.createRef();\n\n        _this.handleChange = function () {\n          if (!_this.isCurrentlyMounted) {\n            return;\n          }\n\n          var nextState = _this.getCurrentState();\n\n          if (!shallowEqual(nextState, _this.state)) {\n            _this.setState(nextState);\n          }\n        };\n\n        return _this;\n      }\n\n      _createClass(DragLayerContainer, [{\n        key: \"getDecoratedComponentInstance\",\n        value: function getDecoratedComponentInstance() {\n          invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n          return this.ref.current;\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.isCurrentlyMounted = true;\n          this.handleChange();\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.isCurrentlyMounted = false;\n\n          if (this.unsubscribeFromOffsetChange) {\n            this.unsubscribeFromOffsetChange();\n            this.unsubscribeFromOffsetChange = undefined;\n          }\n\n          if (this.unsubscribeFromStateChange) {\n            this.unsubscribeFromStateChange();\n            this.unsubscribeFromStateChange = undefined;\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return React.createElement(DndContext.Consumer, null, function (_ref) {\n            var dragDropManager = _ref.dragDropManager;\n\n            if (dragDropManager === undefined) {\n              return null;\n            }\n\n            _this2.receiveDragDropManager(dragDropManager); // Let componentDidMount fire to initialize the collected state\n\n\n            if (!_this2.isCurrentlyMounted) {\n              return null;\n            }\n\n            return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.state, {\n              ref: isRefable(Decorated) ? _this2.ref : null\n            }));\n          });\n        }\n      }, {\n        key: \"receiveDragDropManager\",\n        value: function receiveDragDropManager(dragDropManager) {\n          if (this.manager !== undefined) {\n            return;\n          }\n\n          this.manager = dragDropManager;\n          invariant(_typeof(dragDropManager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n          var monitor = this.manager.getMonitor();\n          this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n          this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n        }\n      }, {\n        key: \"getCurrentState\",\n        value: function getCurrentState() {\n          if (!this.manager) {\n            return {};\n          }\n\n          var monitor = this.manager.getMonitor();\n          return collect(monitor, this.props);\n        }\n      }]);\n\n      return DragLayerContainer;\n    }(React.Component);\n\n    DragLayerContainer.displayName = \"DragLayer(\".concat(displayName, \")\");\n    DragLayerContainer.DecoratedComponent = DecoratedComponent;\n    return hoistStatics(DragLayerContainer, DecoratedComponent);\n  };\n}"],"sourceRoot":""}