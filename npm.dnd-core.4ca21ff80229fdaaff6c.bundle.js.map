{"version":3,"sources":["webpack://discrelog/./node_modules/dnd-core/dist/esm/actions/dragDrop/types.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/actions/dragDrop/local/setClientOffset.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/utils/js_utils.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/actions/dragDrop/beginDrag.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/actions/dragDrop/publishDragSource.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/utils/matchesType.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/actions/dragDrop/hover.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/actions/dragDrop/drop.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/actions/dragDrop/endDrag.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/classes/DragDropManagerImpl.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/actions/dragDrop/index.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/utils/equality.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/reducers/dragOffset.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/actions/registry.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/reducers/dragOperation.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/reducers/refCount.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/utils/dirtiness.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/reducers/dirtyHandlerIds.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/reducers/stateId.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/reducers/index.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/utils/coords.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/classes/DragDropMonitorImpl.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/interfaces.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/utils/getNextUniqueId.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/contracts.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/classes/HandlerRegistryImpl.js","webpack://discrelog/./node_modules/dnd-core/dist/esm/createDragDropManager.js"],"names":["INIT_COORDS","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","setClientOffset","clientOffset","sourceClientOffset","type","payload","_typeof","obj","Symbol","iterator","constructor","prototype","get","path","defaultValue","split","reduce","a","c","without","items","item","filter","i","isObject","input","xor","itemsA","itemsB","map","Map","insertItem","set","has","forEach","result","count","key","push","ResetCoordinatesAction","createBeginDrag","manager","sourceIds","arguments","length","undefined","options","publishSource","_options$publishSourc","getSourceClientOffset","monitor","getMonitor","registry","getRegistry","dispatch","verifyInvariants","sourceId","getDraggableSource","Error","verifyGetSourceClientOffsetIsFunction","source","getSource","beginDrag","verifyItemIsObject","pinSource","itemType","getSourceType","isSourcePublic","isDragging","canDragSource","createPublishDragSource","matchesType","targetType","draggedItemType","Array","isArray","some","t","createHover","targetIdsArg","_ref","verifyTargetIdsIsArray","targetIds","slice","checkInvariants","getItemType","removeNonMatchingTargetIds","hoverAllTargets","didDrop","targetId","lastIndexOf","target","getTarget","getTargetType","splice","hover","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","configurable","writable","createDrop","getDroppableTargets","index","dropResult","determineDropResult","action","drop","verifyDropResultType","getDropResult","getTargetIds","canDropOnTarget","reverse","createEndDrag","verifyIsDragging","getSourceId","endDrag","unpinSource","_defineProperties","props","descriptor","DragDropManagerImpl","store","_this","this","instance","Constructor","TypeError","_classCallCheck","isSetUp","handleRefCountChange","shouldSetUp","getState","refCount","backend","setup","teardown","subscribe","protoProps","actions","publishDragSource","createDragDropActions","boundActions","actionCreator","_len","args","_key","strictEquality","b","areCoordsEqual","offsetA","offsetB","x","y","areArraysEqual","isEqual","initialState","initialSourceClientOffset","initialClientOffset","state","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","indexOf","NONE","ALL","areDirty","dirtyIds","handlerIds","_action$payload","_action$payload$targe","_action$payload$prevT","prevTargetIds","didChange","prevInnermostTargetId","innermostTargetId","dirtyHandlerIds","dragOffset","dragOperation","stateId","subtract","__IS_NONE__","__IS_ALL__","HandlerRole","DragDropMonitorImpl","listener","prevStateId","handleChange","currentStateId","_this2","previousState","nextState","concat","canDrag","canDrop","Boolean","shallow","nextUniqueId","validateType","allowArray","_arrayLikeToArray","arr","len","arr2","parseRoleFromHandlerId","handlerId","SOURCE","TARGET","mapContainsValue","searchValue","entries","isDone","_entries$next","next","done","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","err","_iterableToArrayLimit","o","minLen","n","toString","call","name","from","test","_unsupportedIterableToArray","_nonIterableRest","HandlerRegistryImpl","types","dragSources","dropTargets","pinnedSourceId","pinnedSource","validateSourceContract","addHandler","validateTargetContract","handler","includePinned","isSourceId","isPinned","isTargetId","delete","role","id","getNextHandlerId","createDragDropManager","backendFactory","globalContext","backendOptions","debugMode","makeStoreInstance","receiveBackend","reduxDevTools","window","__REDUX_DEVTOOLS_EXTENSION__","instanceId"],"mappings":"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","file":"npm.dnd-core.4ca21ff80229fdaaff6c.bundle.js","sourcesContent":["export var INIT_COORDS = 'dnd-core/INIT_COORDS';\nexport var BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nexport var PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nexport var HOVER = 'dnd-core/HOVER';\nexport var DROP = 'dnd-core/DROP';\nexport var END_DRAG = 'dnd-core/END_DRAG';","import { INIT_COORDS } from '../types';\nexport function setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get(obj, path, defaultValue) {\n  return path.split('.').reduce(function (a, c) {\n    return a && a[c] ? a[c] : defaultValue || null;\n  }, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isString(input) {\n  return typeof input === 'string';\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isObject(input) {\n  return _typeof(input) === 'object';\n}\n/**\n * repalcement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\nexport function xor(itemsA, itemsB) {\n  var map = new Map();\n\n  var insertItem = function insertItem(item) {\n    map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  map.forEach(function (count, key) {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\nexport function intersection(itemsA, itemsB) {\n  return itemsA.filter(function (t) {\n    return itemsB.indexOf(t) > -1;\n  });\n}","import { invariant } from '@react-dnd/invariant';\nimport { setClientOffset } from './local/setClientOffset';\nimport { isObject } from '../../utils/js_utils';\nimport { BEGIN_DRAG, INIT_COORDS } from './types';\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nexport function createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      if (!getSourceClientOffset) {\n        throw new Error('getSourceClientOffset must be defined');\n      }\n\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId);\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}","import { PUBLISH_DRAG_SOURCE } from './types';\nexport function createPublishDragSource(manager) {\n  return function publishDragSource() {\n    var monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n  };\n}","export function matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(function (t) {\n    return t === draggedItemType;\n  }) : targetType === draggedItemType;\n}","import { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../../utils/matchesType';\nimport { HOVER } from './types';\nexport function createHover(manager) {\n  return function hover(targetIdsArg) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        clientOffset = _ref.clientOffset;\n\n    verifyTargetIdsIsArray(targetIdsArg);\n    var targetIds = targetIdsArg.slice(0);\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    checkInvariants(targetIds, monitor, registry);\n    var draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds: targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (var i = 0; i < targetIds.length; i++) {\n    var targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    var target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (var i = targetIds.length - 1; i >= 0; i--) {\n    var targetId = targetIds[i];\n    var targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    var target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { DROP } from './types';\nimport { isObject } from '../../utils/js_utils';\nexport function createDrop(manager) {\n  return function drop() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    var targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach(function (targetId, index) {\n      var dropResult = determineDropResult(targetId, index, registry, monitor);\n      var action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread(_objectSpread({}, options), dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  var target = registry.getTarget(targetId);\n  var dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  var targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}","import { invariant } from '@react-dnd/invariant';\nimport { END_DRAG } from './types';\nexport function createEndDrag(manager) {\n  return function endDrag() {\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    var sourceId = monitor.getSourceId();\n\n    if (sourceId != null) {\n      var source = registry.getSource(sourceId, true);\n      source.endDrag(monitor, sourceId);\n      registry.unpinSource();\n    }\n\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { createDragDropActions } from '../actions/dragDrop';\nexport var DragDropManagerImpl = /*#__PURE__*/function () {\n  function DragDropManagerImpl(store, monitor) {\n    var _this = this;\n\n    _classCallCheck(this, DragDropManagerImpl);\n\n    this.isSetUp = false;\n\n    this.handleRefCountChange = function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n\n          _this.isSetUp = false;\n        }\n      }\n    };\n\n    this.store = store;\n    this.monitor = monitor;\n    store.subscribe(this.handleRefCountChange);\n  }\n\n  _createClass(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      var actions = createDragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n\n  return DragDropManagerImpl;\n}();","import { createBeginDrag } from './beginDrag';\nimport { createPublishDragSource } from './publishDragSource';\nimport { createHover } from './hover';\nimport { createDrop } from './drop';\nimport { createEndDrag } from './endDrag';\nexport * from './types';\nexport function createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}","export var strictEquality = function strictEquality(a, b) {\n  return a === b;\n};\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\nexport function areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\nexport function areArraysEqual(a, b) {\n  var isEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : strictEquality;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { INIT_COORDS, BEGIN_DRAG, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { areCoordsEqual } from '../utils/equality';\nvar initialState = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState;\n\n    default:\n      return state;\n  }\n}","export var ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nexport var ADD_TARGET = 'dnd-core/ADD_TARGET';\nexport var REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nexport var REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nexport function addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\nexport function removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { REMOVE_TARGET } from '../actions/registry';\nimport { without } from '../utils/js_utils';\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: without(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}","import { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}","import { intersection } from './js_utils';\nexport var NONE = [];\nexport var ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nexport function areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  var commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}","import { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nimport { areArraysEqual } from '../utils/equality';\nimport { NONE, ALL } from '../utils/dirtiness';\nimport { xor } from '../utils/js_utils';\nexport function reduce() {\n  var _state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : NONE;\n\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  var _action$payload = action.payload,\n      _action$payload$targe = _action$payload.targetIds,\n      targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n      _action$payload$prevT = _action$payload.prevTargetIds,\n      prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}","export function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return state + 1;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { reduce as dragOffset } from './dragOffset';\nimport { reduce as dragOperation } from './dragOperation';\nimport { reduce as refCount } from './refCount';\nimport { reduce as dirtyHandlerIds } from './dirtyHandlerIds';\nimport { reduce as stateId } from './stateId';\nimport { get } from '../utils/js_utils';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread(_objectSpread({}, action.payload), {}, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: dragOffset(state.dragOffset, action),\n    refCount: refCount(state.refCount, action),\n    dragOperation: dragOperation(state.dragOperation, action),\n    stateId: stateId(state.stateId)\n  };\n}","/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\nexport function subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\nexport function getSourceClientOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset,\n      initialSourceClientOffset = state.initialSourceClientOffset;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\nexport function getDifferenceFromInitialOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../utils/matchesType';\nimport { getSourceClientOffset as _getSourceClientOffset, getDifferenceFromInitialOffset as _getDifferenceFromInitialOffset } from '../utils/coords';\nimport { areDirty } from '../utils/dirtiness';\nexport var DragDropMonitorImpl = /*#__PURE__*/function () {\n  function DragDropMonitorImpl(store, registry) {\n    _classCallCheck(this, DragDropMonitorImpl);\n\n    this.store = store;\n    this.registry = registry;\n  }\n\n  _createClass(DragDropMonitorImpl, [{\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        handlerIds: undefined\n      };\n      var handlerIds = options.handlerIds;\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n      var prevStateId = this.store.getState().stateId;\n\n      var handleChange = function handleChange() {\n        var state = _this.store.getState();\n\n        var currentStateId = state.stateId;\n\n        try {\n          var canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n          if (!canSkipListener) {\n            listener();\n          }\n        } finally {\n          prevStateId = currentStateId;\n        }\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      var _this2 = this;\n\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      var previousState = this.store.getState().dragOffset;\n\n      var handleChange = function handleChange() {\n        var nextState = _this2.store.getState().dragOffset;\n\n        if (nextState === previousState) {\n          return;\n        }\n\n        previousState = nextState;\n        listener();\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (this.isDragging()) {\n        return false;\n      }\n\n      return source.canDrag(this, sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var target = this.registry.getTarget(targetId);\n      invariant(target, \"Expected to find a valid target. targetId=\".concat(targetId));\n\n      if (!this.isDragging() || this.didDrop()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n      return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return Boolean(this.getItemType());\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      // undefined on initial render\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId, true);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (!this.isDragging() || !this.isSourcePublic()) {\n        return false;\n      }\n\n      var sourceType = this.registry.getSourceType(sourceId);\n      var draggedItemType = this.getItemType();\n\n      if (sourceType !== draggedItemType) {\n        return false;\n      }\n\n      return source.isDragging(this, sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shallow: false\n      };\n\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var shallow = options.shallow;\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n\n      if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n        return false;\n      }\n\n      var targetIds = this.getTargetIds();\n\n      if (!targetIds.length) {\n        return false;\n      }\n\n      var index = targetIds.indexOf(targetId);\n\n      if (shallow) {\n        return index === targetIds.length - 1;\n      } else {\n        return index > -1;\n      }\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.store.getState().dragOperation.itemType;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.store.getState().dragOperation.item;\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.store.getState().dragOperation.sourceId;\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.store.getState().dragOperation.targetIds;\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.store.getState().dragOperation.dropResult;\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.store.getState().dragOperation.didDrop;\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return Boolean(this.store.getState().dragOperation.isSourcePublic);\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.store.getState().dragOffset.initialClientOffset;\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.store.getState().dragOffset.clientOffset;\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return _getSourceClientOffset(this.store.getState().dragOffset);\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return _getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n  }]);\n\n  return DragDropMonitorImpl;\n}();","export var HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));","var nextUniqueId = 0;\nexport function getNextUniqueId() {\n  return nextUniqueId++;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { invariant } from '@react-dnd/invariant';\nexport function validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nexport function validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nexport function validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(function (t) {\n      return validateType(t, false);\n    });\n    return;\n  }\n\n  invariant(typeof type === 'string' || _typeof(type) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { addSource as _addSource, addTarget as _addTarget, removeSource as _removeSource, removeTarget as _removeTarget } from '../actions/registry';\nimport { getNextUniqueId } from '../utils/getNextUniqueId';\nimport { HandlerRole } from '../interfaces';\nimport { validateSourceContract, validateTargetContract, validateType } from '../contracts';\nimport { asap } from '@react-dnd/asap';\n\nfunction getNextHandlerId(role) {\n  var id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return \"S\".concat(id);\n\n    case HandlerRole.TARGET:\n      return \"T\".concat(id);\n\n    default:\n      throw new Error(\"Unknown Handler Role: \".concat(role));\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      invariant(false, \"Cannot parse handler ID: \".concat(handlerId));\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  var entries = map.entries();\n  var isDone = false;\n\n  do {\n    var _entries$next = entries.next(),\n        done = _entries$next.done,\n        _entries$next$value = _slicedToArray(_entries$next.value, 2),\n        value = _entries$next$value[1];\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nexport var HandlerRegistryImpl = /*#__PURE__*/function () {\n  function HandlerRegistryImpl(store) {\n    _classCallCheck(this, HandlerRegistryImpl);\n\n    this.types = new Map();\n    this.dragSources = new Map();\n    this.dropTargets = new Map();\n    this.pinnedSourceId = null;\n    this.pinnedSource = null;\n    this.store = store;\n  }\n\n  _createClass(HandlerRegistryImpl, [{\n    key: \"addSource\",\n    value: function addSource(type, source) {\n      validateType(type);\n      validateSourceContract(source);\n      var sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n      this.store.dispatch(_addSource(sourceId));\n      return sourceId;\n    }\n  }, {\n    key: \"addTarget\",\n    value: function addTarget(type, target) {\n      validateType(type, true);\n      validateTargetContract(target);\n      var targetId = this.addHandler(HandlerRole.TARGET, type, target);\n      this.store.dispatch(_addTarget(targetId));\n      return targetId;\n    }\n  }, {\n    key: \"containsHandler\",\n    value: function containsHandler(handler) {\n      return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(sourceId) {\n      var includePinned = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      var isPinned = includePinned && sourceId === this.pinnedSourceId;\n      var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n      return source;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.dropTargets.get(targetId);\n    }\n  }, {\n    key: \"getSourceType\",\n    value: function getSourceType(sourceId) {\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      return this.types.get(sourceId);\n    }\n  }, {\n    key: \"getTargetType\",\n    value: function getTargetType(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.types.get(targetId);\n    }\n  }, {\n    key: \"isSourceId\",\n    value: function isSourceId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.SOURCE;\n    }\n  }, {\n    key: \"isTargetId\",\n    value: function isTargetId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.TARGET;\n    }\n  }, {\n    key: \"removeSource\",\n    value: function removeSource(sourceId) {\n      var _this = this;\n\n      invariant(this.getSource(sourceId), 'Expected an existing source.');\n      this.store.dispatch(_removeSource(sourceId));\n      asap(function () {\n        _this.dragSources.delete(sourceId);\n\n        _this.types.delete(sourceId);\n      });\n    }\n  }, {\n    key: \"removeTarget\",\n    value: function removeTarget(targetId) {\n      invariant(this.getTarget(targetId), 'Expected an existing target.');\n      this.store.dispatch(_removeTarget(targetId));\n      this.dropTargets.delete(targetId);\n      this.types.delete(targetId);\n    }\n  }, {\n    key: \"pinSource\",\n    value: function pinSource(sourceId) {\n      var source = this.getSource(sourceId);\n      invariant(source, 'Expected an existing source.');\n      this.pinnedSourceId = sourceId;\n      this.pinnedSource = source;\n    }\n  }, {\n    key: \"unpinSource\",\n    value: function unpinSource() {\n      invariant(this.pinnedSource, 'No source is pinned at the time.');\n      this.pinnedSourceId = null;\n      this.pinnedSource = null;\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(role, type, handler) {\n      var id = getNextHandlerId(role);\n      this.types.set(id, type);\n\n      if (role === HandlerRole.SOURCE) {\n        this.dragSources.set(id, handler);\n      } else if (role === HandlerRole.TARGET) {\n        this.dropTargets.set(id, handler);\n      }\n\n      return id;\n    }\n  }]);\n\n  return HandlerRegistryImpl;\n}();","import { DragDropManagerImpl } from './classes/DragDropManagerImpl';\nimport { createStore } from 'redux';\nimport { reduce } from './reducers';\nimport { DragDropMonitorImpl } from './classes/DragDropMonitorImpl';\nimport { HandlerRegistryImpl } from './classes/HandlerRegistryImpl';\nexport function createDragDropManager(backendFactory) {\n  var globalContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  var backendOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var debugMode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var store = makeStoreInstance(debugMode);\n  var monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n  var manager = new DragDropManagerImpl(store, monitor);\n  var backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  var reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reduce, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}"],"sourceRoot":""}